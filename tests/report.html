<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Plan: Smoke</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <style>
        :root {
    --primary-content-color: #212121;
    --secondary-content-color: #6B6B6B;
    --tertiary-content-color: #A6A6A6;

    --content-color-success: #007F31;
    --content-color-error: #8E1A10;

    --border-color-default: #ededed;
    --border-secondary: #E6E6E6;

    --background-color-error: #ffebe7;
    --background-color-success: #E5FFF1;
    --background-color-secondary: #f9f9f9;
    --background-color-tertiary: #f2f2f2;

    --base-color-brand: #ff6c37;
    --base-color-error: #eb2013;
    --base-color-success: #0cbb52;

    --grey-10: #f2f2f2;
    --red-60: #b02016;
    --red-20: #fbc3ba;
    --red-30: #F79A8E;
    --green-30: #6bdd9a;

    --text-secondary: #6b6b6b;
    --text-muted: #929292;

    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;

    --font-primary: Inter, serif;
    --font-secondary: IBM Plex Mono, monospace;

    --section-border: 1px solid var(--border-secondary);
    --border-radius: 8px;
}

html {
    height: 100vh;
    font-family: var(--font-primary);
    font-size: 16px;
}
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: var(--font-primary);
    color: var(--primary-content-color);
}
body {
    margin: 0;
    padding: 0;
    height: 100%;
}
h3{
    font-family: var(--font-primary);
    font-size: 16px;
    font-weight: 600;
    line-height: 20px;
    letter-spacing: -0.11999999731779099px;
    text-align: left;
    text-underline-position: from-font;
    text-decoration-skip-ink: none;
}
/* Common styles*/

/*Divider*/
.divider {
    border-bottom: 1px solid var(--border-color-default);
    margin: 16px 0 16px 0;
}
/*Divider*/

/*--Generic Styled Containers--*/
.skip-styled-container {
    border-color: var(--border-color-default);
    background: var(--background-color-secondary);
}
.pass-styled-container {
    border-color: var(--green-30);
    background: #F8FFFB;
}
.fail-styled-container {
    border-color: var(--red-20);
    background: #FFF7F5;
}
.pass-text{
    color: var(--base-color-success);
}
.fail-text{
    color: var(--base-color-error);
}
.neutral-text{
    color: var(--secondary-content-color);
}
/*--Generic Styled Containers--*/

/*--Generic Tooltip--*/
.tooltip-cell{
    overflow: visible;
}
.tooltip-container {
    position: relative;
}
.tooltip-trigger {
    font-size: 16px;
    font-weight: 400;
    text-align: left;
}
.tooltip-trigger.underline {
    text-decoration-line: underline;
    text-decoration-style: dotted;
    text-underline-offset: auto;
    text-decoration-color: #C6C6C6E3;
    text-decoration-thickness: 13.5%;
    text-underline-position: from-font;
    text-decoration-skip-ink: none;
}
.tooltip {
    visibility: hidden;
    position: absolute;
    opacity: 0;
    z-index: 1;
    transition: opacity 0.3s ease, visibility 0s linear 0.3s;
    min-width: 140px;
    max-width: 220px;
    top: 31px;
    border-radius: 8px;
    background:var(--background-color-tertiary);
    border: 1px solid #00000014;
    padding: 8px;
    font-size: 11px;
    line-height: 16px;
    font-weight: 400;
    white-space: pre-line;
    word-wrap: break-word;
}

.tooltip .number {
    font-weight: 600;
}

.tooltip-container:hover .tooltip {
    visibility: visible;
    opacity: 1;
    transition-delay: 1s;
}
/*--Generic Tooltip--*/

/*--Generic Tab Classes--*/
.tab {
    overflow: hidden;
    display: flex;
    gap: 20px;
}
.tab-button {
    display: inline-block;
    padding: 12px 0 12px 0;
    font-size: 16px;
    color: var(--secondary-content-color);
    font-weight: 400;
    border: none;
    background: none;
}
.tab-button:hover {
    cursor: pointer;
}
.tab-button.active {
    color: var(--primary-content-color);
    box-shadow: inset 0 -3px 0 var(--base-color-brand);
    font-weight: 500;
}
.tab-content {
    display: none;
}
/*--Generic Tab Classes--*/



/*--Header--*/
.heading-content{
    display: flex;
    flex-direction: column;
    gap: 15px;
    max-width: 832px;
    margin: 0 auto;
    width: 100%;
}
.header-container, .content-container {
    padding: 24px 96px 0 96px;
    width: 100%;
    border-bottom: 1px solid var(--border-color-default);
    height: 100%;
}
.heading-content .heading {
    color: var(--secondary-content-color);
    font-weight: 500;
    text-transform: capitalize;
    letter-spacing: 2px;
    font-size: 12px;
}
.heading-content .report-info {
    display: flex;
    align-items: baseline;
    gap: 8px;
}
.report-info .collection-name {
    color: var(--primary-content-color);
    font-weight: 600;
    font-size: 28px;
    letter-spacing: -0.4px;
    max-width: 450px;
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
    display: inline-block;
}
.report-info .collection-time {
    width: fit-content;
    color: var(--tertiary-content-color);
    font-weight: 400;
    font-size: 16px;
    letter-spacing: -0.4px;
}

@media (max-width: 768px) {
    .header-container, .content-container {
        width: 100%;
        padding: 24px 8px 0 8px;
    }
    .heading-content {
        align-items: center;
    }
    .heading-content .report-info {
        display: flex;
        flex-direction: column;
    }
    .report-info .collection-name {
        max-width: 250px;
    }
}
/*--Header--*/

/*--Footer--*/
.footer {
    background-color: var(--background-color-secondary);
    padding: 16px;
    border-radius: 8px;
    display: flex;
    gap: 23px;
    align-items: center;
    border: 0.5px solid var(--base-color-brand);
}
.footer .footer-icon-container{
    padding: 0 10px;
}
.footer-icon-container .footer-icon{
    width: 122px;
    height: 118px;
}
.footer .footer-text-container{
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 637px;
}
.footer .footer-title{
    letter-spacing: -0.12px;
    font-size: 14px;
    font-weight: 600;
}
.footer .footer-content{
    font-size: 12px;
    font-weight: 400;
    line-height: 20px;
}

@media (max-width: 400px) {
    .footer {
        flex-direction: column;
    }
    .footer .footer-icon{
        width: 80px;
        height: 90px;
    }
    .footer .footer-text-container{
        width: 100%;
    }
}
/*--Footer--*/

/*--Main Content--*/
.content-container{
    border: none;
}
.summary-content{
     display: flex;
     flex-direction: column;
     gap: 24px;
     max-width: 832px;
     margin: 0 auto;
     width: 100%;
}
.all-requests-content{
    display: flex;
    gap: 24px;
    flex-direction: column;
    max-width: 832px;
    margin: 0 auto;
    width: 100%;
 }

@media (max-width: 768px) {
    .summary-content,.all-requests-content{
        padding: 0 16px 0 16px;
    }
}
/*--Main Content--*/

/*--Overview Container*/
.overview-container{
    padding: 16px;
    border: var(--section-border);
    border-radius: var(--border-radius);
}
.run-info-container{
    display: grid;
    grid-template-columns: 25% 25% 25% 25%;
    gap: 4px;
}
.overview-container .overview-data-container{
    display: flex;
    flex-direction: column;
    gap: 8px;
}
.overview-data-container .overview-data-title{
    color: var(--tertiary-content-color);
    font-weight: 400;
    font-size: 12px;
    letter-spacing: 0.6px;
}
.overview-data-container .overview-data-content{
    color: var(--primary-content-color);
    font-size: 14px;
    font-weight: 400;
    letter-spacing: 0.6px;
    padding-right: 10px;
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
}
@media (max-width: 768px) {
    .overview-container .run-info-container {
        display: flex;
        flex-direction: column;
        gap: 20px;
        align-items: center;
    }
    .overview-container .overview-data-container {
        align-items: center;
    }
    .overview-data-container .overview-data-content{
        max-width: 250px;
    }
}
/*--Overview--*/

/*--Collection-Description--*/
#collection-description {
    position: relative;
    padding-bottom: 10px;
}
#collection-description .read-more-btn {
    color: var(--secondary-content-color);
    font-weight: 400;
    font-size: 14px;
    cursor: pointer;
    text-decoration: underline;
    margin-top: 10px;
    display: none;
}
#collection-description .read-more-btn.visible {
    display: inline-block;
}
#collection-description .description-content-wrapper {
    overflow: hidden;
    position: relative;
}
#collection-description .description-content-wrapper.collapsed {
    max-height: 100px;
}
#collection-description .description-content-wrapper.expanded {
    max-height: 400px;
    overflow-y: auto;
}
/*--Collection Description*/

/*--Stats Card--*/
.stats-container {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}
.stats-container .stats-data-container {
    flex:1;
    display: flex;
    flex-direction: column;
    padding: 16px 12px 16px 12px;
    width: 200px;
    gap:20px;
    border: 1px solid var(--border-color-default);
    border-radius: 5px;
}
.stats-data-container .stats-data-title {
    font-size: 12px;
    font-weight: 400;
    line-height: 16px;
    text-align: left;
    text-underline-position: from-font;
    text-decoration-skip-ink: none;
}
.stats-data-container .stats-data-content {
    font-family: IBM Plex Mono, serif;
    font-size: 54px;
    font-weight: 400;
    letter-spacing: -1.600000023841858px;
    text-align: left;
    text-underline-position: from-font;
    text-decoration-skip-ink: none;
    overflow-wrap: anywhere;
    line-height: 45px;
}
.stats-data-container .stats-data-metric-container {
    display: flex;
    gap: 10px;
    align-items: baseline
}
.stats-data-metric-container .stats-content-percentage{
    color: var(--secondary-content-color);
    font-size: 14px;
    font-weight: 500;
    line-height: 16px;
    text-align: left;
    text-underline-position: from-font;
    text-decoration-skip-ink: none;
}

@media (max-width: 768px) {
    .stats-container {
        display: grid;
        grid-template-columns: 49% 49%;
    }
    .stats-container .stats-data-container{
        width: auto;
    }
    .stats-data-container .stats-content {
        font-size: 34px;
        overflow: hidden;
        text-overflow: ellipsis;
    }
}
/*--Stats Card--*/

/*--Run Summary--*/
#run-summary-container{
    padding: 16px;
    border-radius: 8px;
    border: var(--section-border);
}
table#summary-table {
    width: 100%;
    border-spacing: 0 10px;
    table-layout: fixed;
    border-radius: 0 !important;
}
table#summary-table td, th {
    border-collapse: collapse;
    border-bottom: 1px solid #EDEDEDB2;
    padding: 4px 0;
    height: 40px;
    text-align: left;
    font-weight: 400;
    line-height: 1.5rem;
    word-wrap: break-word;
    word-break: break-word;
    max-height: 150px;
}

table#summary-table tr:last-child td, tr:last-child th {
    border-bottom: none;
}
table#summary-table .metric-heading{
    text-align:right;
    width: 136px;
}
table#summary-table td .content {
    display: inline-block;
    width: fit-content;
    padding: 0 12px;
    border-radius: 4px;
    min-width: 3rem;
    text-align: center;
}
table#summary-table th {
    color: var(--secondary-content-color);
}

@media (max-width: 768px) {
    table#summary-table .metric-heading{
        width: auto;
    }
}
/*--Run Summary--*/

/*--Failure Tests--*/
.failure-container,.skipped-container{
    padding: 16px;
    border: var(--section-border);
    border-radius: var(--border-radius);
}

.iterations-summary-heading {
    display: flex;
    gap: 12px;
    letter-spacing: -0.12px;
    font-weight: 600;
    font-size: 16px;
    line-height: 20px;
}
.iterations-summary-heading .iterations-summary-heading-data {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 8px;
}
.iterations-summary-heading-data .iterations-summary-heading-title {
    padding-top: 3px;
    font-size: 16px;
    font-weight: 600;
    letter-spacing: -0.12px
}
.iterations-summary-heading-data p {
    font-weight: 400;
    font-size: 14px;
    line-height: 22px;
}
.iteration-folder-structure {
    display: flex;
    margin-right: 10px;
    align-items: center;
    gap: 6px;
    flex-wrap: wrap
}
.iteration-folder-structure .folder-name {
    color: var(--primary-content-color);
    font-size: 14px;
    font-weight: 400;
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
    display: inline-block;
    max-width: 200px;
}
.iteration-folder-structure .request-method {
    font-family: IBM Plex Mono, monospace;
    font-weight: 600;
    font-size: 12px;
}
.folder-slash {
    color: var(--secondary-content-color);
    font-size: 14px;
    font-weight: 400;
    margin: 0 2px;
}
.iterations-summary-action-btn-container {
    display: flex;
    gap: 8px;
}
.iterations-summary-action-btn {
    height: 32px;
    padding: 6px 12px 6px 12px;
    border: none;
    border-radius: 4px;
    background: var(--grey-10);
    font-weight: 400;
    font-size: 12px;
    cursor: pointer;
}

/*--Iterations List--*/
.iterations-list-container {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}
.iterations-list-container .acc-container {
    font-size: 14px;
    font-weight: 400;
    background: var(--background-color-tertiary);
    padding: 8px;
    border-radius: 8px;
}
.iterations-list-container .acc-container.open {
    background: var(--background-color-secondary);
}
.iterations-list-container .acc-container .acc-heading {
    padding-right: 16px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.iteration-request-title-container {
    display: flex;
}
.iteration-details-title {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
    margin-left: 8px;
}
.iteration-details-title .iteration-number{
    flex-shrink: 0;
    padding-left:3px;
    line-height: 24px;
}
.iterations-list-container .acc-container .acc-heading .view-iteration-request-btn {
    display: none;
    color: var(--secondary-content-color);
    font-family: var(--font-primary);
    font-size: 11px;
    font-weight: 400;
    line-height: 16px;
    text-align: left;
    text-decoration-line: underline;
    text-underline-position: from-font;
    text-decoration-skip-ink: none;
    border: none;
    cursor: pointer;
    background: none;
    flex-shrink: 0;
}
.iterations-list-container .acc-container .acc-heading.active .view-iteration-request-btn {
    display: block;
}
.iterations-list-container .acc-container .acc-content {
    padding: 0 12px 0 32px;
}
.iteration-request-detail-container {
    font-size: 14px;
    margin:10px 0;
    padding: 24px 23px;
    border: 1px solid transparent;
    background: linear-gradient(white, white) padding-box,linear-gradient(221.78deg, rgba(22, 22, 22, 0.04) 71.03%, rgba(198, 198, 198, 0.21) 79.48%),linear-gradient(221.6deg, rgba(198, 198, 198, 0.19) 25.22%, rgba(33, 33, 33, 0.17) 38.45%) border-box;
    border-radius: 8px;
    box-shadow: 0 2px 2px 0 #2121210F, 0 8px 12px -4px #21212114;
}
.iteration-request-error-detail {
    font-family: var(--font-secondary);
    margin-top:12px;
    background: var(--background-color-error);
    color:var(--primary-content-color);
}
.script-request-error-detail {
    padding: 5px 0;
    font-size: 12px;
}
/*--Failure Tests--*/

/*--Generic Accordion Classes--*/
.acc-container .acc-heading {
    cursor: pointer;
}
.acc-container .acc-heading .acc-toggle-btn {
    border: 1px solid var(--border-secondary);
    padding: 4px;
    height: 24px;
    width: 24px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    cursor: pointer;
}
.acc-container .acc-heading .acc-toggle-btn .acc-toggle-icon {
    transition: transform 0.3s ease;
}
.acc-container .acc-heading.active .acc-toggle-btn .acc-toggle-icon {
    transform: rotate(90deg);
}
.acc-container .acc-content {
    transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
    max-height: 0;
    padding: 0 0 0 34px;
}
.acc-container .acc-content.active {
    max-height: 100000px;
}
/*--Generic Accordion Classes--*/


@media (max-width: 768px) {
    .acc-container .acc-content {
        padding: 0;
    }
    .iterations-list-container .acc-container .acc-content {
        padding: 0;
    }
    .iterations-summary-heading {
        flex-direction: column;
    }
    .iterations-list-container .acc-container .acc-heading {
        flex-direction: column;
        gap: 10px;
        align-items: start;
    }
    .iterations-list-container .acc-container .acc-heading.active .view-iteration-request-btn{
        align-self: end;
    }
}

/* requests tab css */

/* Typography Utilities */
.text-xs { font-size: 11px; }
.text-sm { font-size: 12px; }
.text-base { font-size: 14px; }
.text-lg { font-size: 16px; }

.font-regular { font-weight: var(--font-weight-regular); }
.font-medium { font-weight: var(--font-weight-medium); }
.font-semibold { font-weight: var(--font-weight-semibold); }

.font-mono { font-family: 'IBM Plex Mono', monospace; }
.font-primary { font-family: var(--font-primary), serif; }

/* Text Colors */
.text-primary { color: var(--primary-content-color); }
.text-secondary { color: var(--secondary-content-color); }
.text-tertiary { color: var(--tertiary-content-color); }
.text-muted { color: var(--text-muted); }
.text-error { color: var(--base-color-error); }
.text-success { color: var(--base-color-success); }

/* Background Colors */
.bg-white { background-color: white; }
.bg-secondary { background-color: var(--background-color-secondary); }
.bg-tertiary { background-color: var(--background-color-tertiary); }
.bg-error { background-color: var(--background-color-error); }
.bg-success-light { background-color: var(--green-30); }

/* Layout Utilities */
.flex { display: flex; }
.flex-col { display: flex; flex-direction: column; }
.flex-row-wrap { display: flex; flex-wrap: wrap; }
.items-center { align-items: center; }
.justify-between { justify-content: space-between; }
.full-width { width: 100%; }
.hidden { visibility: hidden; }

.gap-2 { gap: 2px; }
.gap-4 { gap: 4px; }
.gap-8 { gap: 8px; }
.gap-12 { gap: 12px; }
.gap-16 { gap: 16px; }

/* Spacing Utilities */
.p-1 { padding: 1px; }
.p-2 { padding: 2px; }
.p-3 { padding: 3px; }
.p-4 { padding: 4px; }
.p-8 { padding: 8px; }
.p-12 { padding: 12px; }
.p-16 { padding: 16px; }
.p-20 { padding: 20px; }
.p-24 { padding: 24px; }

.px-12 { padding-left: 12px; padding-right: 12px; }
.py-12 { padding-top: 12px; padding-bottom: 12px; }
.py-16 { padding-top: 16px; padding-bottom: 16px; }

.mt-16 { margin-top: 16px; }
.mt-24 { margin-top: 24px; }
.mb-8 { margin-bottom: 8px; }
.mr-2 { margin-right: 2px; }

/* Border Utilities */
.border { border: 1px solid; }
.border-default { border-color: var(--border-color-default); }
.border-secondary { border-color: var(--border-secondary); }
.border-error { border-color: var(--red-20); }
.border-success { border-color: var(--green-30); }

.rounded { border-radius: 4px; }
.rounded-lg { border-radius: 8px; }
.rounded-full { border-radius: 9999px; }

.iteration-nav-container {
    display: flex;
    flex-wrap: wrap;
    gap: 3px;
    max-height: 105px;
    overflow-y: auto;
    margin: 12px 0;
}

.iteration-btn {
    min-width: 28px;
    min-height: 28px;
    border: 0.5px solid;
    background-color: white;
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-family: "IBM Plex Mono", serif;
    font-weight: 400;
}

.iteration-btn.small {
    min-width: 24px;
    min-height: 24px;
}
.iteration-btn.passed {
    background-color: #F8FFFB;
    border-color: #A4EEC4 !important;
    color: var(--base-color-success);
}
.iteration-btn.failed {
    border-color: var(--red-20) !important;
    background-color: #FFF7F5;
    color: var(--base-color-error);
}
.iteration-btn.skipped {
    background-color: #F8FFFB;
    border-color: #A4EEC4;
    color: #22c55e;
}
.iteration-btn.selected {
    background-color: #f8f8f8;
    font-weight: bold;
}
.iteration-btn.passed.selected {
    background-color: var(--base-color-success);
    color: white;
}
.iteration-btn.failed.selected {
    background-color: var(--red-60);
    color: white;
}
.iteration-btn.skipped.selected {
    background-color: var(--base-color-success);
    color: white;
}
.button {
    padding: 8px;
    cursor: pointer;
    font-size: 12px;
    font-weight: 400;
    line-height: 20px;
    min-width: 100px;
    align-items: center;
    text-align: center;
    justify-content: center;
    background-color: var(--background-color-tertiary);
    border-radius: 4px;
}

.dynamic-accordion {
    border: 1px solid;
    border-radius: 8px;
    border-color: var(--border-secondary);
}

.dynamic-accordion.parent {
    background-color: var(--background-color-tertiary);
}

.dynamic-accordion.parent.active {
    background-color: var(--background-color-secondary);
}

.dynamic-accordion-content {
    display: none;
}

.dynamic-accordion-content.active {
    display: block;
}

@media (max-width: 768px) {
    .dynamic-accordion-content {
        padding: 8px 12px 8px 16px;
    }
}

.dynamic-accordion.no-border {
    border: 0 !important;
}

.dynamic-accordion-header {
    cursor: pointer;
    display: flex;
    gap: 16px;
    align-items: center;
    flex-wrap: wrap;
}

.dynamic-accordion-header.active .dynamic-accordion-carat {
    transition: transform 0.3s ease;
    transform: rotate(90deg);
}

.dynamic-accordion-header.active .execution-info-section-header {
    border-bottom: 1px solid var(--border-color-default);
}

.execution {
    display: flex;
    gap: 16px;
    padding: 23px;
    width: 100%;
}

@media (max-width: 768px) {
    .execution {
        overflow: hidden;
    }
}

.execution-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px;
    flex: 1;
}

.execution-metadata {
    display: flex;
    flex-wrap: wrap;
    gap: 16px
}

.execution-name {
    display: flex;
    font-size: 14px;
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: inline-block;
    max-width: 300px;
}

@media (max-width: 768px) {
    .execution-name {
        max-width: 150px;
    }
}

.execution-url {
    display: flex;
    font-size: 12px;
    color: var(--secondary-content-color);
    font-weight: 400;
    justify-content: flex-start;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: inline-block;
    max-width: 300px;
}

@media (max-width: 768px) {
    .execution-url {
        max-width: 200px;
    }
}

.execution-info-section-header {
    padding: 11px;
    font-size: 12px;
    font-style: normal;
    font-weight: 600;
    line-height: 16px;
    color: #212121;
    width: 100%;
    display: flex;
    gap: 10px;
    align-items: center;
}

.execution-folder-container {
    display: flex;
    padding: 8px;
    gap: 8px
}

.execution-folder-name {
    font-size: 14px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 300px;
}

@media (max-width: 768px) {
    .execution-folder-name {
        max-width: 200px;
    }
}

.dynamic-accordion-content-wrapper {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.dynamic-accordion-content-wrapper.http-headers {
    overflow-x: auto;
    margin-top: 10px;
    padding: 0 4px 12px 40px;
}

.dynamic-accordion-content-wrapper.error-section {
    padding: 12px 12px 12px 40px;
}

.dynamic-accordion-content-wrapper.tests-section {
    margin-top: 10px;
    padding: 0 2px 8px 40px;
}

.dynamic-accordion-content-wrapper.exec-content {
    padding: 0 24px 24px 61px;
}

.dynamic-accordion-content-wrapper.folder-content {
    padding: 8px 8px 12px 40px;
}

.dynamic-accordion-content-wrapper.iteration-details {
    margin-top: 16px;
    padding-left: 40px;
}

.execution-error-container {
    display: flex;
    align-items: center;
    border: 1px solid var(--border-secondary);
    border-radius: 8px;
    padding: 24px;
}

.execution-bodies-section-content {
    padding-left: 40px;
}

@media (max-width: 768px) {
    .execution-bodies-section-content {
        padding-left: 10px;
    }
}

.execution-error-container > span {
    padding: 12px;
    font-size: 14px;
    font-weight: 400;
    background-color: var(--background-color-error);
    font-family: "IBM Plex Mono", serif;
    word-wrap: break-word;
    color: var(--red-60);
    width: 100%;
}

.total-executions-count {
    display: flex;
    flex: 1;
    justify-content: flex-end;
    font-size: 11px;
    color: var(--tertiary-content-color);
}

@media (max-width: 768px) {
    .dynamic-accordion-content-wrapper {
        padding: 2px !important;
    }
}

.test-stat {
    border-radius: 2px;
    background-color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 4px;
    color: var(--text-muted);
}

.test-stat > span {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 400;
    aspect-ratio: 1;
    min-width: 10px;
    min-height: 10px;
}

.test-stat.passed {
    background-color: var(--background-color-success);
}

.test-stat.passed > span {
    color: var(--content-color-success);
}

.test-stat.failed {
    background-color: var(--background-color-error);
}

.test-stat.failed.blur {
    background-color: #FFF7F5;
}

.test-stat.failed > span {
    color: var(--base-color-error);
}

.test-stat.failed.blur > span {
    color: var(--red-30);
}

.dot {
    width: 4px;
    height: 4px;
    border: 1px solid;
    border-radius: 8px;
    border-color: var(--border-color-default);
    background-color: var(--border-secondary);
}

.http {
    display: flex;
    padding: 4px 6px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 500;
    border: 0;
}

.http.success {
    background-color: var(--background-color-success);
    color: var(--content-color-success);
}

.http.error {
    background-color: var(--background-color-error);
    color: var(--content-color-error);
}

.http.redirect {
    background-color: var(--background-color-error);
    color: #8a8483;
}

/* http headers tables start */

table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
}

.http-headers-table {
    border-collapse: collapse;
}

.http-headers-table th,
.http-headers-table td {
    border-bottom: 1px solid var(--border-color-default) !important;
    text-align: left;
    font-size: 12px;
    line-height: 20px !important;
    font-weight: 400;
    color: var(--primary-content-color);
    padding: 8px;
    line-height: 20px;
    word-wrap: break-word;
}

.http-headers-table .cell-content {
    max-height: 100px;
    overflow-y: auto;
}

.http-headers-table tr:last-child td {
    border-bottom: none !important;
}

.http-headers-table th {
    color: var(--secondary-content-color);
    font-weight: 500;
}

/* http headers tables end */

/* execution assertion details */

.assertions-table th,
.assertions-table td {
    text-align: left;
    padding: 8px;
    word-wrap: break-word;
    border-bottom: 1px solid var(--border-color-default) !important;
}

.assertions-table th {
    color: var(--secondary-content-color);
    font-weight: 500;
    font-size: 12px;
    line-height: 20px;
}

.assertions-table th:first-child,
.assertions-table td:first-child {
    width: 75px;
}

.assertions-table tr:last-child td {
    border-bottom: none !important;
}

.assertions-table td {
    font-size: 14px;
    font-weight: 500;
    line-height: 20px;
}

tr.error-row td {
    border-bottom: none !important;
}

.test-status-badge {
    display: inline-flex;
    padding: 0.1rem 0.5rem;
    border-radius: 116px !important;
    font-size: 11px;
    font-weight: 600;
    line-height: 16px;
    background-color: var(--background-color-secondary);
}

.test-status-badge.passed {
    background-color: var(--background-color-success);
    color: var(--content-color-success);
}

.test-status-badge.failed {
    background-color: var(--background-color-error);
    color: var(--content-color-error);
}

.error-row td {
    border-top: none;
}

.test-error-data {
    display: block;
    width: 100%;
    font-size: 14px;
    font-weight: 400;
    background-color: var(--background-color-secondary);
    font-family: "IBM Plex Mono", serif;
}

.error-msg-row td {
    padding-top: 0 !important;
}

.execution-errors-container {
    font-size: 14px;
    padding: 23px;
    border: 1px solid var(--border-secondary);
    border-radius: 8px;
}

.execution-error-detail .hljs {
    font-size: 14px;
    background-color: var(--background-color-error) !important;
    color: var(--primary-content-color) !important;
    text-wrap: wrap;
}


/* execution assertion details end */

/* highlight js customisation start */
.hljs {
    font-family: "IBM Plex Mono", serif;
    background: var(--background-color-secondary);
    padding: 16px 12px 16px 16px;
    font-size: 12px;
    line-height: 20px;
    font-weight: 400;
    overflow-y: auto;
    overflow-x: auto;
    max-height: 600px;
    text-align: left !important;
    display: block !important;
    color: var(--secondary-content-color);
}

.test-error-data .hljs {
    font-size: 14px;
    padding: 12px;
    font-weight: 400;
    text-wrap: wrap;
}

.test-error-data .hljs-number {
    color: var(--red-60);
}

.iteration-request-error-detail .hljs {
    background: none;
    padding: 0;
    color: var(--primary-content-color);
    font-size: 14px;
    text-wrap: wrap;
}

.iteration-request-error-detail .hljs-section, .hljs-title {
    font-weight: var(--font-weight-medium);
    color:var(--red-60);
}

.hljs-attr {
    color: var(--red-60) !important;
}
.hljs-string {
    color: #0053B8;
}

/* highlight js customisation end */

/* execution request or response content/body */
.load-body-placeholder {
    width: 100%;
    display: flex;
    flex-direction: column;
    padding: 20px;
    gap: 12px;
    background-color: var(--background-color-secondary);
}

.load-body-placeholder-text {
    font-size: 11px;
    font-weight: 400;
    color: var(--secondary-content-color);
}

.load-body-btn {
    cursor: pointer;
    font-size: 12px;
    font-weight: 400;
    color: var(--primary-content-color);
    border: 1px solid var(--border-secondary);
    border-radius: 4px;
    padding: 4px 12px;
}

.load-body-btn.loading {
    cursor: not-allowed;
    color: var(--tertiary-content-color);
}

.copyable-container {
    position: relative;
    width: 100%;
}

.copy-button {
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 5px;
    color: #555;
    transition: background-color 0.2s;
}

/* execution request or response content/body end */
    </style>
</head>
<body>
<div>
    <!--Header-->
    <header class="header-container">
        <div class="heading-content">
               <span class="heading">RUN REPORT</span>
            <div class="report-info">
                   <div class="tooltip-container flex">
                         <span class="collection-name tooltip-trigger"> Test Plan: Smoke </span>
                        <div class="tooltip">Test Plan: Smoke</div>
                    </div>
                <span class="collection-time">
                    Jan 15, 2025 02:34:13
                </span>
            </div>
            <div class="tab">
                <button class="tab-button">
                    Summary
                </button>
                <button class="tab-button">
                    All Requests
                </button>
            </div>
        </div>
    </header>

    <!--Content-->
    <div class="content-container no-border">
        <!--Summary-->
        <div class="tab-content">
            <!--Summary Content-->
            <div class="summary-content">
                <!--Overview-->
                <div class="overview-container">
                    <div class="run-info-container">
                        <!-- Collection Name-->
                        <div class="overview-data-container">
                               <span class="overview-data-title">
                               Collection
                               </span>
                               <div class="tooltip-container flex">
                                    <span class="overview-data-content tooltip-trigger"> Test Plan: Smoke </span>
                                    <div class="tooltip">Test Plan: Smoke</div>
                                </div>
                        </div>
                        <!-- Collection Environment-->
                        <div class="overview-data-container">
                               <span class="overview-data-title">
                               Environment
                               </span>
                                    <div class="tooltip-container flex">
                                        <span class="overview-data-content tooltip-trigger"> BookStore </span>
                                        <div class="tooltip">BookStore</div>
                                    </div>
                        </div>
                        <!-- Run Duration Container-->
                        <div class="overview-data-container">
                            <span class="overview-data-title">
                            Total run duration
                            </span>
                            <!-- Duration-->
                            <span class="overview-data-content font-mono">
                                1246ms
                            </span>
                        </div>
                        <!-- Iterations-->
                        <div class="overview-data-container">
                            <span class="overview-data-title">
                            Iterations
                            </span>
                            <!-- Duration-->
                            <span class="overview-data-content font-mono">
                                1
                            </span>
                        </div>
                    </div>
                </div>

                <!--Stats-->
                    <div class="stats-container">
                        <div class="stats-data-container">
                            <span class="stats-data-title">Total tests</span>
                            <span class="stats-data-content">11</span>
                        </div>
                        <div class="stats-data-container pass-styled-container">
                            <span class="stats-data-title pass-text">Passed</span>
                            <div class="stats-data-metric-container">
                                <span class="stats-data-content pass-text">
                                    3
                                </span>
                                <span class="stats-content-percentage">
                                    27%
                                </span>
                            </div>
                        </div>
                        <div class="stats-data-container fail-styled-container">
                            <span class="stats-data-title fail-text">
                            Failed
                            </span>
                            <div class="stats-data-metric-container">
                                <span  class="stats-data-content fail-text">
                                    8
                                </span>
                                <span class="stats-content-percentage">
                                    73%
                                </span>
                            </div>
                        </div>
                        <div class="stats-data-container skip-styled-container">
                            <span class="stats-data-title text-tertiary">Skipped</span>
                            <div class="stats-data-metric-container">
                                <span class="stats-data-content">
                                    0
                                </span>
                                <span class="stats-content-percentage">
                                0%
                                </span>
                            </div>
                        </div>
                    </div>

                <!--Run Summary-->
                <div id="run-summary-container">
                    <h3 class="mb-8">
                        Run Summary
                    </h3>
                    <table id="summary-table">
                        <tr>
                            <th>Item</th>
                            <th class="metric-heading">Executed</th>
                            <th class="metric-heading">Errored</th>
                        </tr>
                        <tr>
                            <td class="tooltip-cell">
                                <div class="tooltip-container">
                                    <span class="tooltip-trigger underline">Iterations</span>
                                    <div class="tooltip">Total iterations run.</div>
                                </div>
                            </td>
                            <td style="text-align: right;padding-right: 0;">
                                <span class="content font-mono" style="padding-right: 0; text-align: right;">1</span>
                            </td>
                            <td style="text-align: right;padding-right: 0;">
                               <span class="content font-mono"
                                     style="color: #A6A6A6;background: #F9F9F9;"
                               >
                                   0
                               </span>
                            </td>
                        </tr>
                        <tr>
                            <td class="tooltip-cell">
                                <div class="tooltip-container">
                                    <span class="tooltip-trigger underline">Requests</span>
                                    <div class="tooltip">Total requests run, including any API calls triggered using scripts.</div>
                                </div>
                            </td>
                            <td style="text-align: right;padding-right: 0;">
                                <span class="content font-mono" style="padding-right: 0;text-align: right;">5</span>
                            </td>
                            <td style="text-align: right;padding-right: 0;">
                               <span class="content font-mono" style="color: #A6A6A6;background: #F9F9F9;">0</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="tooltip-cell">
                                <div class="tooltip-container">
                                    <span class="tooltip-trigger underline">Pre-request scripts</span>
                                    <div class="tooltip">Total pre-request scripts run, including those at the request, folder, and collection levels.</div>
                                </div>
                            </td>
                            <td style="text-align: right;padding-right: 0;">
                                <span class="content font-mono" style="padding-right: 0; text-align: right;">0</span>
                            </td>
                            <td style="text-align: right;padding-right: 0;">
                               <span class="content font-mono" style="color: #A6A6A6;background: #F9F9F9;">0</span>
                            </td>
                        </tr>
                        <tr>
                            <td class="tooltip-cell">
                                <div class="tooltip-container">
                                    <span class="tooltip-trigger underline">Post-response scripts</span>
                                    <div class="tooltip">Total post-response scripts run, including those at the request, folder, and collection levels.</div>
                                </div>
                            </td>
                            <td style="text-align: right;padding-right: 0;">
                                <span class="content font-mono" style="padding-right: 0; text-align: right;">5</span>
                            </td>
                            <td style="text-align: right;padding-right: 0;">
                               <span class="content font-mono" style="color: #A6A6A6;background: #F9F9F9;">0</span>
                            </td>
                        </tr>
                    </table>
                </div>

                <!--Failed Tests-->
                    <div class="failure-container">
                        <div class="acc-container">
                            <div class="acc-heading iterations-summary-heading">
                                <!--Icon-->
                                <button class="acc-toggle-btn">
                                    <svg class="acc-toggle-icon" xmlns="http://www.w3.org/2000/svg" fill="none"
                                         viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                                         width="16px" height="16px"
                                    >
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                              d="m8.25 4.5 7.5 7.5-7.5 7.5"
                                        />
                                    </svg>
                                </button>
                                <!--Heading-->
                                <div class="iterations-summary-heading-data">
                                    <h3 class="iterations-summary-heading-title">
                                        Failures & Errors
                                    </h3>
                                    <p>
                                        <span class="font-semibold">6</span>
                                        failed tests and <span class="font-semibold">2</span>
                                        errors
                                        across <span class="font-semibold">3</span>
                                        requests
                                    </p>
                                </div>
                                <!-- Expand / Collapse Buttons-->
                                <div class="iterations-summary-action-btn-container">
                                    <button class="iteration-requests-expand-all-btn iterations-summary-action-btn">
                                        Expand All
                                    </button>
                                    <button class="iteration-requests-collapse-all-btn iterations-summary-action-btn">
                                        Collapse All
                                    </button>
                                </div>
                            </div>
                            <div class="acc-content">
                                <!-- Iterations-->
                                <div class="iterations-list-container">
                                        <div class="acc-container"
                                             data-accordion-iteration="0"
                                             data-accordion-request-id="ed2096ae-ad21-4672-80f1-1a37b50ee415"
                                             data-accordion-parent-id="5ebe9cce-27bb-4f8c-ab37-57ad324f9f36"
                                        >
                                            <div class="acc-heading">
                                                <div class="iteration-request-title-container">
                                                    <button class="acc-toggle-btn">
                                                        <svg class="acc-toggle-icon" xmlns="http://www.w3.org/2000/svg"
                                                             fill="none" viewBox="0 0 24 24"
                                                             stroke-width="1.5"
                                                             stroke="currentColor"
                                                             width="16px" height="16px"
                                                        >
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="m8.25 4.5 7.5 7.5-7.5 7.5"/>
                                                        </svg>
                                                    </button>
                                                    <div class="iteration-details-title">
                                                        <span class="iteration-number">
                                                            Iteration 1
                                                        </span>
                                                        <div class="iteration-folder-structure">
                                                                
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">Add Books</span>
                        <div class="tooltip">Add Books</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</span>
                        <div class="tooltip">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                                                            <div class="flex gap-4">
                                                                <span class="request-method" style="color: #007bff;">
                                                                    POST
                                                                </span>
                                                                <div class="tooltip-container flex">
                                                                    <span class="folder-name tooltip-trigger">Agregar 1 Libro a la Collection</span>
                                                                    <div class="tooltip">Agregar 1 Libro a la Collection</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                    <button class="view-iteration-request-btn" onclick="viewRequest(event)">
                                                        View request
                                                    </button>
                                            </div>
                                            <div class="acc-content">
                                                <div class="iteration-request-detail-container">
                                                        <p>
                                                            <span class="neutral-text mr-2">Test Failure </span>
                                                            <span class="font-medium">Status code is 201</span>
                                                        </p>
                                                        <div class="iteration-request-error-detail px-12">
                                                            <pre> <code class="language-javascript"> AssertionError expected response to have status code 201 but got 401 </code> </pre>
                                                        </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="acc-container"
                                             data-accordion-iteration="0"
                                             data-accordion-request-id="ed2096ae-ad21-4672-80f1-1a37b50ee415"
                                             data-accordion-parent-id="5ebe9cce-27bb-4f8c-ab37-57ad324f9f36"
                                        >
                                            <div class="acc-heading">
                                                <div class="iteration-request-title-container">
                                                    <button class="acc-toggle-btn">
                                                        <svg class="acc-toggle-icon" xmlns="http://www.w3.org/2000/svg"
                                                             fill="none" viewBox="0 0 24 24"
                                                             stroke-width="1.5"
                                                             stroke="currentColor"
                                                             width="16px" height="16px"
                                                        >
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="m8.25 4.5 7.5 7.5-7.5 7.5"/>
                                                        </svg>
                                                    </button>
                                                    <div class="iteration-details-title">
                                                        <span class="iteration-number">
                                                            Iteration 1
                                                        </span>
                                                        <div class="iteration-folder-structure">
                                                                
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">Add Books</span>
                        <div class="tooltip">Add Books</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</span>
                        <div class="tooltip">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                                                            <div class="flex gap-4">
                                                                <span class="request-method" style="color: #007bff;">
                                                                    POST
                                                                </span>
                                                                <div class="tooltip-container flex">
                                                                    <span class="folder-name tooltip-trigger">Agregar 1 Libro a la Collection</span>
                                                                    <div class="tooltip">Agregar 1 Libro a la Collection</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                    <button class="view-iteration-request-btn" onclick="viewRequest(event)">
                                                        View request
                                                    </button>
                                            </div>
                                            <div class="acc-content">
                                                <div class="iteration-request-detail-container">
                                                        <p>
                                                            <span class="neutral-text mr-2">Test Failure </span>
                                                            <span class="font-medium">Should have only 1 book as response</span>
                                                        </p>
                                                        <div class="iteration-request-error-detail px-12">
                                                            <pre> <code class="language-javascript"> AssertionError expected undefined to be an array </code> </pre>
                                                        </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="acc-container"
                                             data-accordion-iteration="0"
                                             data-accordion-request-id="ed2096ae-ad21-4672-80f1-1a37b50ee415"
                                             data-accordion-parent-id="5ebe9cce-27bb-4f8c-ab37-57ad324f9f36"
                                        >
                                            <div class="acc-heading">
                                                <div class="iteration-request-title-container">
                                                    <button class="acc-toggle-btn">
                                                        <svg class="acc-toggle-icon" xmlns="http://www.w3.org/2000/svg"
                                                             fill="none" viewBox="0 0 24 24"
                                                             stroke-width="1.5"
                                                             stroke="currentColor"
                                                             width="16px" height="16px"
                                                        >
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="m8.25 4.5 7.5 7.5-7.5 7.5"/>
                                                        </svg>
                                                    </button>
                                                    <div class="iteration-details-title">
                                                        <span class="iteration-number">
                                                            Iteration 1
                                                        </span>
                                                        <div class="iteration-folder-structure">
                                                                
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">Add Books</span>
                        <div class="tooltip">Add Books</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</span>
                        <div class="tooltip">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                                                            <div class="flex gap-4">
                                                                <span class="request-method" style="color: #007bff;">
                                                                    POST
                                                                </span>
                                                                <div class="tooltip-container flex">
                                                                    <span class="folder-name tooltip-trigger">Agregar 1 Libro a la Collection</span>
                                                                    <div class="tooltip">Agregar 1 Libro a la Collection</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                    <button class="view-iteration-request-btn" onclick="viewRequest(event)">
                                                        View request
                                                    </button>
                                            </div>
                                            <div class="acc-content">
                                                <div class="iteration-request-detail-container">
                                                        <p>
                                                            <span class="neutral-text mr-2">Test Failure </span>
                                                            <span class="font-medium">Should have the same book than the added one</span>
                                                        </p>
                                                        <div class="iteration-request-error-detail px-12">
                                                            <pre> <code class="language-javascript"> TypeError Cannot read properties of undefined (reading &#x27;map&#x27;) </code> </pre>
                                                        </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="acc-container"
                                             data-accordion-iteration="0"
                                             data-accordion-request-id="6ffe147e-e118-408d-8c39-f2e029f92244"
                                             data-accordion-parent-id="5ebe9cce-27bb-4f8c-ab37-57ad324f9f36"
                                        >
                                            <div class="acc-heading">
                                                <div class="iteration-request-title-container">
                                                    <button class="acc-toggle-btn">
                                                        <svg class="acc-toggle-icon" xmlns="http://www.w3.org/2000/svg"
                                                             fill="none" viewBox="0 0 24 24"
                                                             stroke-width="1.5"
                                                             stroke="currentColor"
                                                             width="16px" height="16px"
                                                        >
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="m8.25 4.5 7.5 7.5-7.5 7.5"/>
                                                        </svg>
                                                    </button>
                                                    <div class="iteration-details-title">
                                                        <span class="iteration-number">
                                                            Iteration 1
                                                        </span>
                                                        <div class="iteration-folder-structure">
                                                                
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">Add Books</span>
                        <div class="tooltip">Add Books</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</span>
                        <div class="tooltip">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                                                            <div class="flex gap-4">
                                                                <span class="request-method" style="color: #28a745;">
                                                                    GET
                                                                </span>
                                                                <div class="tooltip-container flex">
                                                                    <span class="folder-name tooltip-trigger">Obtener Libros de la Tienda</span>
                                                                    <div class="tooltip">Obtener Libros de la Tienda</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                    <button class="view-iteration-request-btn" onclick="viewRequest(event)">
                                                        View request
                                                    </button>
                                            </div>
                                            <div class="acc-content">
                                                <div class="iteration-request-detail-container">
                                                        <p>
                                                            <span class="neutral-text mr-2">Test Failure </span>
                                                            <span class="font-medium">Should Status code to be 200</span>
                                                        </p>
                                                        <div class="iteration-request-error-detail px-12">
                                                            <pre> <code class="language-javascript"> AssertionError expected response to have status code 200 but got 401 </code> </pre>
                                                        </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="acc-container"
                                             data-accordion-iteration="0"
                                             data-accordion-request-id="6ffe147e-e118-408d-8c39-f2e029f92244"
                                             data-accordion-parent-id="5ebe9cce-27bb-4f8c-ab37-57ad324f9f36"
                                        >
                                            <div class="acc-heading">
                                                <div class="iteration-request-title-container">
                                                    <button class="acc-toggle-btn">
                                                        <svg class="acc-toggle-icon" xmlns="http://www.w3.org/2000/svg"
                                                             fill="none" viewBox="0 0 24 24"
                                                             stroke-width="1.5"
                                                             stroke="currentColor"
                                                             width="16px" height="16px"
                                                        >
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="m8.25 4.5 7.5 7.5-7.5 7.5"/>
                                                        </svg>
                                                    </button>
                                                    <div class="iteration-details-title">
                                                        <span class="iteration-number">
                                                            Iteration 1
                                                        </span>
                                                        <div class="iteration-folder-structure">
                                                                
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">Add Books</span>
                        <div class="tooltip">Add Books</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</span>
                        <div class="tooltip">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                                                            <div class="flex gap-4">
                                                                <span class="request-method" style="color: #28a745;">
                                                                    GET
                                                                </span>
                                                                <div class="tooltip-container flex">
                                                                    <span class="folder-name tooltip-trigger">Obtener Libros de la Tienda</span>
                                                                    <div class="tooltip">Obtener Libros de la Tienda</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                    <button class="view-iteration-request-btn" onclick="viewRequest(event)">
                                                        View request
                                                    </button>
                                            </div>
                                            <div class="acc-content">
                                                <div class="iteration-request-detail-container">
                                                        <p>
                                                            <span class="neutral-text mr-2">Test Failure </span>
                                                            <span class="font-medium">Should have at least 1 book in collection</span>
                                                        </p>
                                                        <div class="iteration-request-error-detail px-12">
                                                            <pre> <code class="language-javascript"> AssertionError expected null to be an array </code> </pre>
                                                        </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="acc-container"
                                             data-accordion-iteration="0"
                                             data-accordion-request-id="6ffe147e-e118-408d-8c39-f2e029f92244"
                                             data-accordion-parent-id="5ebe9cce-27bb-4f8c-ab37-57ad324f9f36"
                                        >
                                            <div class="acc-heading">
                                                <div class="iteration-request-title-container">
                                                    <button class="acc-toggle-btn">
                                                        <svg class="acc-toggle-icon" xmlns="http://www.w3.org/2000/svg"
                                                             fill="none" viewBox="0 0 24 24"
                                                             stroke-width="1.5"
                                                             stroke="currentColor"
                                                             width="16px" height="16px"
                                                        >
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="m8.25 4.5 7.5 7.5-7.5 7.5"/>
                                                        </svg>
                                                    </button>
                                                    <div class="iteration-details-title">
                                                        <span class="iteration-number">
                                                            Iteration 1
                                                        </span>
                                                        <div class="iteration-folder-structure">
                                                                
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">Add Books</span>
                        <div class="tooltip">Add Books</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</span>
                        <div class="tooltip">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                                                            <div class="flex gap-4">
                                                                <span class="request-method" style="color: #28a745;">
                                                                    GET
                                                                </span>
                                                                <div class="tooltip-container flex">
                                                                    <span class="folder-name tooltip-trigger">Obtener Libros de la Tienda</span>
                                                                    <div class="tooltip">Obtener Libros de la Tienda</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                    <button class="view-iteration-request-btn" onclick="viewRequest(event)">
                                                        View request
                                                    </button>
                                            </div>
                                            <div class="acc-content">
                                                <div class="iteration-request-detail-container">
                                                        <p>
                                                            <span class="neutral-text mr-2">Test Failure </span>
                                                            <span class="font-medium">Should have the added book in collection</span>
                                                        </p>
                                                        <div class="iteration-request-error-detail px-12">
                                                            <pre> <code class="language-javascript"> TypeError Cannot read properties of null (reading &#x27;find&#x27;) </code> </pre>
                                                        </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="acc-container"
                                             data-accordion-iteration="0"
                                             data-accordion-request-id="c676e736-4484-441b-9c1c-dfeebaf1bad5"
                                             data-accordion-parent-id="5ebe9cce-27bb-4f8c-ab37-57ad324f9f36"
                                        >
                                            <div class="acc-heading">
                                                <div class="iteration-request-title-container">
                                                    <button class="acc-toggle-btn">
                                                        <svg class="acc-toggle-icon" xmlns="http://www.w3.org/2000/svg"
                                                             fill="none" viewBox="0 0 24 24"
                                                             stroke-width="1.5"
                                                             stroke="currentColor"
                                                             width="16px" height="16px"
                                                        >
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="m8.25 4.5 7.5 7.5-7.5 7.5"/>
                                                        </svg>
                                                    </button>
                                                    <div class="iteration-details-title">
                                                        <span class="iteration-number">
                                                            Iteration 1
                                                        </span>
                                                        <div class="iteration-folder-structure">
                                                                
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">Add Books</span>
                        <div class="tooltip">Add Books</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</span>
                        <div class="tooltip">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                                                            <div class="flex gap-4">
                                                                <span class="request-method" style="color: #dc3545;">
                                                                    DELETE
                                                                </span>
                                                                <div class="tooltip-container flex">
                                                                    <span class="folder-name tooltip-trigger">Clean Collection</span>
                                                                    <div class="tooltip">Clean Collection</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                    <button class="view-iteration-request-btn" onclick="viewRequest(event)">
                                                        View request
                                                    </button>
                                            </div>
                                            <div class="acc-content">
                                                <div class="iteration-request-detail-container">
                                                        <p>
                                                            <span class="neutral-text mr-2">Test Failure </span>
                                                            <span class="font-medium">Status code is 204</span>
                                                        </p>
                                                        <div class="iteration-request-error-detail px-12">
                                                            <pre> <code class="language-javascript"> AssertionError expected response to have status code 204 but got 401 </code> </pre>
                                                        </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="acc-container"
                                             data-accordion-iteration="0"
                                             data-accordion-request-id="c676e736-4484-441b-9c1c-dfeebaf1bad5"
                                             data-accordion-parent-id="5ebe9cce-27bb-4f8c-ab37-57ad324f9f36"
                                        >
                                            <div class="acc-heading">
                                                <div class="iteration-request-title-container">
                                                    <button class="acc-toggle-btn">
                                                        <svg class="acc-toggle-icon" xmlns="http://www.w3.org/2000/svg"
                                                             fill="none" viewBox="0 0 24 24"
                                                             stroke-width="1.5"
                                                             stroke="currentColor"
                                                             width="16px" height="16px"
                                                        >
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  d="m8.25 4.5 7.5 7.5-7.5 7.5"/>
                                                        </svg>
                                                    </button>
                                                    <div class="iteration-details-title">
                                                        <span class="iteration-number">
                                                            Iteration 1
                                                        </span>
                                                        <div class="iteration-folder-structure">
                                                                
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">Add Books</span>
                        <div class="tooltip">Add Books</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                <div style="display: flex;gap:2px;align-items: center;">
                    
            <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6171_7237)">
                    <path
                        d="M5 18V6C5 5.44772 5.44772 5 6 5H9.69722C9.89465 5 10.0877 5.05844
                        10.2519 5.16795L12.7481 6.83205C12.9123 6.94156 13.1054 7 13.3028 7H18C18.5523
                        7 19 7.44772 19 8V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                        stroke="#6B6B6B"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M5 10H19"
                        stroke="#6B6B6B"
                        stroke-linecap="round"
                    />
                </g>
                <defs>
                    <clipPath id="clip0_6171_7237">
                        <rect width="16" height="16" fill="white" transform="translate(4 4)"/>
                    </clipPath>
                </defs>
            </svg>
                    <div class="tooltip-container flex">
                        <span class="folder-name tooltip-trigger">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</span>
                        <div class="tooltip">TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]</div>
                    </div>
                </div>
                <span class="folder-slash"> / </span>
            
                                                            <div class="flex gap-4">
                                                                <span class="request-method" style="color: #dc3545;">
                                                                    DELETE
                                                                </span>
                                                                <div class="tooltip-container flex">
                                                                    <span class="folder-name tooltip-trigger">Clean Collection</span>
                                                                    <div class="tooltip">Clean Collection</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                    <button class="view-iteration-request-btn" onclick="viewRequest(event)">
                                                        View request
                                                    </button>
                                            </div>
                                            <div class="acc-content">
                                                <div class="iteration-request-detail-container">
                                                        <p>
                                                            <span class="neutral-text mr-2">Test Failure </span>
                                                            <span class="font-medium">Response body is empty</span>
                                                        </p>
                                                        <div class="iteration-request-error-detail px-12">
                                                            <pre> <code class="language-javascript"> AssertionError expected &#x27;{&quot;code&quot;:&quot;1200&quot;,&quot;message&quot;:&quot;Token expir…&#x27; to be empty </code> </pre>
                                                        </div>
                                                </div>
                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>

                <!--Skipped Tests-->
            </div>
        </div>

        <!--All requests-->
        <div class="tab-content">
            <div class="all-requests-content">
                <div class="border border-default rounded-lg py-12 px-12">
                    <div>
                        <span class="text-sm font-semibold text-secondary">Iterations</span>

                        <!--Iteration buttons-->
                        <div class="iteration-nav-container" id="id-iteration-nav-container"></div>

                        <!-- divider -->
                        <div style="height: 1px; background: var(--border-color-default); margin: 12px 0"></div>

                        <div class="flex gap-8" style="justify-content: flex-end; flex-wrap: wrap">
                            <div id="iteration-expand-all" class="button">
                                Expand All
                            </div>
                            <div id="iteration-collapse-all" class="button">
                                Collapse All
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex-col gap-8" id="iteration-container"></div>
            </div>
        </div>
    </div>
    <!--Buffer-->
    <div style="height: 100px"></div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/remarkable/2.0.1/remarkable.min.js"></script>
<script>
    
function appendFooterToTabContent () {
    // Get all tab content divs
    const tabContents = document.querySelectorAll('.tab-content');

    /* eslint-disable max-len */
    function createUniqueFooter (index) {
        // Create footer HTML
        return `
                <div class="footer-icon-container">
                    <svg class="footer-icon"  viewBox="0 0 122 118" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_6982_12961__${index})">
                        <path d="M55.2539 43.7202V31.8002C55.2539 30.9302 55.9639 30.2202 56.8339 30.2202H63.7839" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M69.5742 35.52V44.05" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M63.9643 30.3604L69.4443 35.3404L63.9043 35.1504L63.9643 30.3604Z" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M67.0251 38.5503H57.9551V40.9203H67.0251V38.5503Z" fill="url(#paint0_linear_6982_12961__${index})" fill-opacity="0.7"/>
                        <path opacity="0.7" d="M61.0151 33.7402H57.9551V36.1102H61.0151V33.7402Z" fill="url(#paint1_linear_6982_12961__${index})"/>
                        <path d="M67.0251 38.5503H57.9551V40.9203H67.0251V38.5503Z" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M61.0151 33.7402H57.9551V36.1102H61.0151V33.7402Z" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <g style="mix-blend-mode:multiply" opacity="0.3">
                        <path d="M62.0346 113.68C62.0346 116.07 48.3146 118 31.3846 118C14.4546 118 0.724609 116.06 0.724609 113.68C0.724609 112.49 3.41461 111.42 8.96461 110.71C10.0946 110.57 10.7446 115.22 12.8246 115.04C14.2346 114.92 14.6646 116.8 18.1846 115.77C25.8646 113.52 24.0946 109.27 24.8546 109.23C27.7946 109.1 28.1246 109.35 31.3846 109.35C32.9546 109.35 32.7746 109.35 34.2846 109.31C34.9846 109.29 35.7246 113.14 37.0246 113.96C37.9546 114.55 40.6046 115.39 43.0246 115.28C45.0546 115.19 45.6246 113.32 46.6546 112.79C47.3646 112.42 48.4746 109.4 49.2546 109.47C57.9246 110.23 62.0446 112.13 62.0446 113.68H62.0346Z" fill="#262626"/>
                        </g>
                        <path d="M39.3952 47.3501C37.4652 48.0801 35.4152 48.5401 33.2952 48.7101C33.0352 48.7301 31.8852 48.6201 31.6152 48.6401" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M19.5549 44.7202L18.6349 43.9602C13.9649 39.8302 11.1649 33.6402 11.6649 26.8102C12.4149 16.5102 20.9149 8.18022 31.2349 7.62022C43.2449 6.97022 53.1749 16.5102 53.1749 28.3802C53.1749 29.4202 53.0649 30.4902 52.8749 31.5602C51.9349 36.6702 49.1149 41.0202 45.2149 44.0802" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <g opacity="0.7">
                        <path d="M18.9344 8.62021C20.5636 8.62021 21.8844 7.29946 21.8844 5.67022C21.8844 4.04098 20.5636 2.72021 18.9344 2.72021C17.3051 2.72021 15.9844 4.04098 15.9844 5.67022C15.9844 7.29946 17.3051 8.62021 18.9344 8.62021Z" fill="#FF6C37"/>
                        </g>
                        <path d="M18.9344 8.62021C20.5636 8.62021 21.8844 7.29946 21.8844 5.67022C21.8844 4.04098 20.5636 2.72021 18.9344 2.72021C17.3051 2.72021 15.9844 4.04098 15.9844 5.67022C15.9844 7.29946 17.3051 8.62021 18.9344 8.62021Z" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M20.5742 8.12988L21.9442 10.3999" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M39.7249 55.0901L39.1949 52.9901C38.9549 52.0401 39.6749 51.1201 40.6449 51.1201H77.2349C78.1549 51.1201 78.8649 51.9501 78.7149 52.8601L74.2049 80.7301C74.0849 81.4601 73.4649 81.9901 72.7249 81.9901H44.8349C44.1249 81.9901 43.5149 81.5001 43.3649 80.8101L41.3249 71.3401" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M48.6552 39.8502C42.2852 37.7802 38.9352 30.7702 40.1752 24.0202C40.9652 19.7302 44.1852 16.6102 48.4452 15.1602" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M27.1041 33.5804C28.8217 33.5804 30.2141 32.188 30.2141 30.4704C30.2141 28.7527 28.8217 27.3604 27.1041 27.3604C25.3865 27.3604 23.9941 28.7527 23.9941 30.4704C23.9941 32.188 25.3865 33.5804 27.1041 33.5804Z" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M32.665 86.0502L30.685 86.9602C26.805 88.7402 24.325 92.6202 24.355 96.8902L24.425 108.52C24.455 112.45 21.275 115.65 17.355 115.64C17.055 115.64 16.765 115.64 16.465 115.64C12.635 115.64 9.50501 112.57 9.41501 108.74L9.23501 98.9202C9.10501 95.5002 9.07501 88.8502 9.16501 85.4302C9.46501 73.7002 10.315 60.2402 13.685 49.7902L16.275 41.4502" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M28.5955 65.1602C28.5955 65.1602 17.7355 76.9602 10.4355 67.4502" stroke="#686868" stroke-width="0.97" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M25.2855 61.4702C25.2855 61.4702 16.6055 70.1202 11.1055 62.1502" stroke="#686868" stroke-width="0.97" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9.46533 71.4402L5.84533 71.0802C3.51533 70.8502 1.76533 68.8702 1.78533 66.5302C1.86533 57.8502 5.05533 47.7802 7.24533 41.9402C7.93533 40.0802 10.0153 39.1602 11.8653 39.8902L15.8953 41.4902" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M45.3051 82.02C45.3051 82.02 46.6051 95.26 49.1951 105.77C50.4151 110.71 46.6751 115.48 41.5851 115.48C37.6851 115.48 34.3751 112.61 33.8251 108.75L30.7051 86.97" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M31.9454 48.71C31.9454 48.71 40.5154 58.29 54.5754 62.07C57.9154 62.97 60.0254 66.26 59.3454 69.66C58.6254 73.22 55.0354 75.88 51.5854 74.74C42.1054 71.59 29.7854 68.05 25.5254 61.26" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M13.6855 49.7999C13.6855 49.7999 15.5055 43.7399 23.5355 45.3199C23.5355 45.3199 30.2855 46.77 33.5455 50.32" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M76.6839 44.2803H40.2139C39.8218 44.2803 39.5039 44.5982 39.5039 44.9903V47.5203C39.5039 47.9124 39.8218 48.2303 40.2139 48.2303H76.6839C77.076 48.2303 77.3939 47.9124 77.3939 47.5203V44.9903C77.3939 44.5982 77.076 44.2803 76.6839 44.2803Z" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M96.2551 17.849L91.4613 15.2158C90.8927 14.9041 90.2017 14.9179 89.6485 15.2572L84.9682 18.0822C84.415 18.4215 84.0822 19.0194 84.0975 19.6704L84.2108 25.1386C84.2261 25.7897 84.5843 26.3736 85.1429 26.685L89.9367 29.3182C90.5054 29.6299 91.1964 29.6161 91.7496 29.2768L96.4298 26.4518C96.9831 26.1125 97.3159 25.5146 97.3005 24.8636L97.1873 19.3954C97.1719 18.7444 96.8138 18.1604 96.2551 17.849Z" fill="url(#paint2_linear_6982_12961__${index})" fill-opacity="0.8"/>
                        <path d="M96.2551 17.849L91.4613 15.2158C90.8927 14.9041 90.2017 14.9179 89.6485 15.2572L84.9682 18.0822C84.415 18.4215 84.0822 19.0194 84.0975 19.6704L84.2108 25.1386C84.2261 25.7897 84.5843 26.3736 85.1429 26.685L89.9367 29.3182C90.5054 29.6299 91.1964 29.6161 91.7496 29.2768L96.4298 26.4518C96.9831 26.1125 97.3159 25.5146 97.3005 24.8636L97.1873 19.3954C97.1719 18.7444 96.8138 18.1604 96.2551 17.849Z" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M76.4576 9.5741L73.9687 8.22233C73.6734 8.0623 73.3156 8.07119 73.03 8.24826L70.6134 9.72267C70.3277 9.89975 70.1568 10.2102 70.1664 10.5473L70.2385 13.3786C70.2481 13.7157 70.435 14.0172 70.725 14.1771L73.2139 15.5288C73.5092 15.6889 73.867 15.68 74.1526 15.5029L76.5692 14.0285C76.8549 13.8514 77.0258 13.541 77.0162 13.2039L76.9441 10.3726C76.9345 10.0355 76.7476 9.73395 76.4576 9.5741Z" fill="url(#paint3_linear_6982_12961__${index})" fill-opacity="0.8"/>
                        <path d="M76.4576 9.5741L73.9687 8.22233C73.6734 8.0623 73.3156 8.07119 73.03 8.24826L70.6134 9.72268C70.3277 9.89975 70.1568 10.2102 70.1664 10.5473L70.2385 13.3786C70.2481 13.7157 70.435 14.0172 70.725 14.1771L73.2139 15.5288C73.5092 15.6889 73.867 15.68 74.1526 15.5029L76.5692 14.0285C76.8549 13.8514 77.0258 13.541 77.0162 13.2039L76.9441 10.3726C76.9345 10.0355 76.7476 9.73395 76.4576 9.5741Z" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M74.7449 40.2199C74.7449 40.2199 73.2649 31.0599 81.3549 26.6499" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M78.1445 34.14C79.1445 32.26 80.7345 30.42 83.2645 29.04" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M95.2145 62.9301C99.3953 62.9301 102.785 59.5498 102.785 55.3801C102.785 51.2103 99.3953 47.8301 95.2145 47.8301C91.0337 47.8301 87.6445 51.2103 87.6445 55.3801C87.6445 59.5498 91.0337 62.9301 95.2145 62.9301Z" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M95.1337 56.5701C96.7187 56.5701 98.0037 55.2896 98.0037 53.7101C98.0037 52.1306 96.7187 50.8501 95.1337 50.8501C93.5486 50.8501 92.2637 52.1306 92.2637 53.7101C92.2637 55.2896 93.5486 56.5701 95.1337 56.5701Z" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M90.1152 60.77C90.5352 58.49 92.5352 56.77 94.9352 56.77C97.3352 56.77 99.5352 58.67 99.8052 61.11" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M113.205 15.9701C117.386 15.9701 120.775 12.5899 120.775 8.42012C120.775 4.25037 117.386 0.870117 113.205 0.870117C109.024 0.870117 105.635 4.25037 105.635 8.42012C105.635 12.5899 109.024 15.9701 113.205 15.9701Z" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M113.124 9.59988C114.709 9.59988 115.994 8.31942 115.994 6.73988C115.994 5.16035 114.709 3.87988 113.124 3.87988C111.539 3.87988 110.254 5.16035 110.254 6.73988C110.254 8.31942 111.539 9.59988 113.124 9.59988Z" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M108.105 13.8003C108.525 11.5203 110.525 9.80029 112.925 9.80029C115.325 9.80029 117.525 11.7003 117.795 14.1403" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M41.5 48.5V51" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M112.714 37.5401L114.864 38.4401L112.714 39.3401L111.824 41.5001L110.914 39.3401L108.764 38.4501L110.914 37.5501L111.814 35.3901L112.714 37.5401Z" stroke="#686868" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M87.5244 3.47018L89.3144 4.22018L87.5244 4.97018L86.7744 6.76018L86.0244 4.97018L84.2344 4.22018L86.0244 3.47018L86.7644 1.68018L87.5244 3.47018Z" fill="#686868"/>
                        </g>
                        <defs>
                        <linearGradient id="paint0_linear_6982_12961__${index}" x1="57.9551" y1="39.7403" x2="67.0251" y2="39.7403" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#FF7002"/>
                        <stop offset="0.2" stop-color="#FC7807"/>
                        <stop offset="0.51" stop-color="#F78E18"/>
                        <stop offset="0.89" stop-color="#EEB332"/>
                        <stop offset="1" stop-color="#EBC03B"/>
                        </linearGradient>
                        <linearGradient id="paint1_linear_6982_12961__${index}" x1="59.4851" y1="33.7402" x2="59.4851" y2="36.1102" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#FF6C37"/>
                        <stop offset="1" stop-color="#FFB400"/>
                        </linearGradient>
                        <linearGradient id="paint2_linear_6982_12961__${index}" x1="87.5501" y1="27.9914" x2="93.8571" y2="16.5324" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#FF7002"/>
                        <stop offset="0.2" stop-color="#FC7807"/>
                        <stop offset="0.51" stop-color="#F78E18"/>
                        <stop offset="0.89" stop-color="#EEB332"/>
                        <stop offset="1" stop-color="#EBC03B"/>
                        </linearGradient>
                        <linearGradient id="paint3_linear_6982_12961__${index}" x1="71.9748" y1="14.8476" x2="75.2125" y2="8.89819" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#FF7002"/>
                        <stop offset="0.2" stop-color="#FC7807"/>
                        <stop offset="0.51" stop-color="#F78E18"/>
                        <stop offset="0.89" stop-color="#EEB332"/>
                        <stop offset="1" stop-color="#EBC03B"/>
                        </linearGradient>
                        <clipPath id="clip0_6982_12961__${index}">
                        <rect width="120.55" height="117.63" fill="white" transform="translate(0.724609 0.370117)"/>
                        </clipPath>
                        </defs>
                    </svg>
                </div>
                <div class="footer-text-container">
                    <h4 class="footer-title">
                        Simplify your testing workflow using Postman
                    </h4>
                    <p class="footer-content">
                        Debug faster and rerun effortlessly by viewing test reports in Postman. Share test reports with your team and collaborate on fixes right from one place.
                        <a
                            href="https://go.pstmn.io/view-postman-cli-test-results"
                            target="_blank"
                            rel="noopener noreferrer"
                            style="font-size: 12px;text-decoration-line: underline;text-decoration-style: solid;text-underline-offset: auto;text-decoration-thickness: auto;text-underline-position: from-font;text-decoration-skip-ink: none;">
                            Learn more
                        </a>
                    </p>
                </div>
    `;
    }
    /* eslint-enable max-len*/

    // Add footer to each tab content
    tabContents.forEach((content, index) => {
        const contentContainer = content.firstElementChild,
            footerContainer = document.createElement('footer');

        footerContainer.classList.add('footer');
        footerContainer.innerHTML = createUniqueFooter(index);
        contentContainer.appendChild(footerContainer);
    });
}

/**
 * Switches active tab
 * @param {number} tabIndex - Index of tab to activate
 */
function switchTab (tabIndex) {
    const tab_buttons = document.getElementsByClassName('tab-button'),
        tab_contents = document.getElementsByClassName('tab-content');

    for (let j = 0; j < tab_buttons.length; j++) {
        tab_buttons[j].classList.remove('active');
        tab_contents[j].style.display = 'none';
    }

    tab_buttons[tabIndex].classList.add('active');
    tab_contents[tabIndex].style.display = 'block';
}

/**
 * Initializes tab navigation system
 */
function initializeTabs () {
    const tab_buttons = document.getElementsByClassName('tab-button');

    // Activate first tab by default
    tab_buttons[0].classList.add('active');
    document.getElementsByClassName('tab-content')[0].style.display = 'block';

    for (let i = 0; i < tab_buttons.length; i++) {
        tab_buttons[i].addEventListener('click', () => { return switchTab(i); });
    }
}


/**
 * Markdown rendering functionality
 */
// eslint-disable-next-line no-undef
let remarkable;

try {
    remarkable = new window.remarkable.Remarkable();
}
catch (e) {
    console.error('Failed to load remarkable library', e);
}


/**
 * Renders HTML from markdown string
 * @param {string} markdown - Markdown content to render
 * @returns {string} HTML string
 */
function renderHtmlFromMarkdown (markdown) {
    if (!remarkable) {
        return markdown;
    }

    if (markdown) {
        return remarkable.render(markdown.trim());
    }

    return remarkable.render(markdown);
}

/**
 * Initializes markdown container with expand/collapse functionality
 */
function initializeMarkdownContainer () {
    const markdownContainer = document.getElementById('collection-description');

    if (!markdownContainer) { return; }

    /**
     * Toggles markdown content expansion state
     * @param {HTMLElement} contentWrapper - Content wrapper element
     * @param {HTMLElement} readMoreBtn - Read more/less button element
     */
    function toggleMarkdownContent (contentWrapper, readMoreBtn) {
        const isCollapsed = contentWrapper.classList.contains('collapsed');

        if (isCollapsed) {
            contentWrapper.classList.remove('collapsed');
            contentWrapper.classList.add('expanded');
            readMoreBtn.textContent = 'Show Less';
        }
        else {
            contentWrapper.scrollTop = 0;
            contentWrapper.classList.remove('expanded');
            contentWrapper.classList.add('collapsed');
            readMoreBtn.textContent = 'Show More';
        }
    }

    // Create elements
    // eslint-disable-next-line one-var
    const contentWrapper = document.createElement('div'),
        contentDiv = document.createElement('div'),
        readMoreBtn = document.createElement('div');

    contentWrapper.className = 'description-content-wrapper collapsed';
    contentDiv.className = 'content';
    contentDiv.innerHTML = markdownContainer.textContent ?
        renderHtmlFromMarkdown(markdownContainer.textContent) : '-';

    readMoreBtn.className = 'read-more-btn';
    readMoreBtn.textContent = 'Show More';

    contentWrapper.appendChild(contentDiv);
    markdownContainer.innerHTML = '';
    markdownContainer.appendChild(contentWrapper);
    markdownContainer.appendChild(readMoreBtn);

    if (contentDiv.offsetHeight > 100) {
        readMoreBtn.classList.add('visible');
    }

    readMoreBtn.addEventListener('click', () => { return toggleMarkdownContent(contentWrapper, readMoreBtn); });
}

// Selector constants to improve maintainability and reduce string duplication
// eslint-disable-next-line one-var
const SELECTORS = {
    ITERATION_NAV_BUTTONS: '.iteration-nav-container .iteration-btn',
    DYNAMIC_ACCORDION: '.dynamic-accordion',
    DYNAMIC_ACCORDION_HEADER: '.dynamic-accordion-header',
    DYNAMIC_ACCORDION_CONTENT: '.dynamic-accordion-content',
    ACC_HEADING: 'acc-heading'
};

/**
 * Initializes click listeners for top-level accordion elements
 */
function initializeTopLevelAccordions () {
    const elements = document.getElementsByClassName(SELECTORS.ACC_HEADING);

    for (let element of elements) {
        element.addEventListener('click', function () {
            const acc_content = this.nextElementSibling,
                acc_container = this.parentElement;

            acc_container.classList.toggle('open');
            acc_content.classList.toggle('active');
            this.classList.toggle('active');
        });
    }
}

/**
 * Finds the first ancestor element with the specified class
 * @param {HTMLElement} el - Starting element to search from
 * @param {string} cls - Class name to search for
 * @returns {HTMLElement|null} - First ancestor with matching class or null if not found
 */
function findAncestor (el, cls) {
    while ((el = el.parentElement) && !el.classList.contains(cls)) { /* empty */ }

    return el;
}

/**
 * Handles nested accordion button clicks (expand/collapse)
 * @param {Event} e - Click event
 * @param {HTMLElement} btn - Button element that was clicked
 * @param {'expand'|'collapse'} toggle_type - Type of toggle action
 */
function handleNestedAccordionBtnClick (e, btn, toggle_type) {
    e.stopPropagation();
    const parent_accordion = findAncestor(btn, SELECTORS.ACC_HEADING),
        parent_accordion_content = parent_accordion.nextElementSibling,
        accordion_group_elements = parent_accordion_content.getElementsByClassName('iterations-list-container');


    for (let accordion_group_ele of accordion_group_elements) {
        const accordion_heads = accordion_group_ele.getElementsByClassName(SELECTORS.ACC_HEADING);

        for (let accordion_head of accordion_heads) {
            const accordion_content = accordion_head.nextElementSibling,
                accordion_container = accordion_head.parentElement;

            if (toggle_type === 'expand') {
                if (!accordion_head.classList.contains('active')) {
                    accordion_head.classList.add('active');
                    accordion_content.classList.toggle('active');
                }
                if (!parent_accordion.classList.contains('active')) {
                    parent_accordion.classList.add('active');
                    parent_accordion_content.classList.add('active');
                }
                accordion_container.classList.toggle('open');
            }
            else if (toggle_type === 'collapse') {
                if (accordion_head.classList.contains('active')) {
                    accordion_head.classList.remove('active');
                    accordion_content.classList.remove('active');
                    accordion_container.classList.remove('open');
                }
            }
        }
    }
}

/**
 * Initializes expand/collapse button listeners
 */
function initializeAccordionButtons () {
    const expand_buttons = document.getElementsByClassName('iteration-requests-expand-all-btn'),
        collapse_buttons = document.getElementsByClassName('iteration-requests-collapse-all-btn');

    for (let expand_btn of expand_buttons) {
        expand_btn.addEventListener('click', (e) => { return handleNestedAccordionBtnClick(e, expand_btn, 'expand'); });
    }

    for (let collapse_btn of collapse_buttons) {
        collapse_btn.addEventListener('click', (e) => {
            return handleNestedAccordionBtnClick(e, collapse_btn, 'collapse');
        });
    }
}

/**
 * Toggles accordion state
 * @param {HTMLElement} accordion - The accordion element
 */
function toggleAccordionState (accordion) {
    if (!accordion) { return; }

    if (!accordion.classList.contains('active')) {
        accordion.classList.add('active');
    }

    const header = accordion.querySelector(SELECTORS.DYNAMIC_ACCORDION_HEADER),
        content = accordion.querySelector(SELECTORS.DYNAMIC_ACCORDION_CONTENT);

    if (!header.classList.contains('active')) {
        header.classList.add('active');
    }
    if (!content.classList.contains('active')) {
        content.classList.add('active');
    }
}

/**
 * Handles single-level accordion view
 * @param {string} accordionRequestId - ID of the accordion to view
 * @param {number} iterationIndex - Iteration index
 */
// eslint-disable-next-line no-unused-vars
function expandIterationRequestAccordion (accordionRequestId, iterationIndex) {
    const requestAccordionId = `dynamic-accordion-${accordionRequestId}-${iterationIndex}`,
        requestAccordion = document.getElementById(requestAccordionId);

    if (requestAccordion) {
        toggleAccordionState(requestAccordion);
        requestAccordion.scrollIntoView({ behavior: 'smooth' });
    }
}

/**
 * Handles nested accordion view
 * @param {HTMLElement} folderAccordion - Parent accordion element
 * @param {string} accordionRequestId - ID of the child accordion to view
 * @param {number} iterationIndex - Iteration index
 */
// eslint-disable-next-line no-unused-vars
function expandIterationRequestWithFolderAccordion (folderAccordion, accordionRequestId, iterationIndex) {
    const content = folderAccordion.querySelector(SELECTORS.DYNAMIC_ACCORDION_CONTENT);

    toggleAccordionState(folderAccordion);

    if (content) {
        const requestAccordionId = `dynamic-accordion-${accordionRequestId}-${iterationIndex}`,
            childAccordion = document.getElementById(requestAccordionId);

        if (childAccordion) {
            toggleAccordionState(childAccordion);
            childAccordion.scrollIntoView({ behavior: 'smooth' });
        }
    }
}

/**
 * @param {string} parentId - ID of the parent
 * @param {string} requestId - ID of the request
 * @param {number} iterationIndex - Iteration index
 */
// eslint-disable-next-line no-unused-vars
function expandRequestWithinIteration (parentId, requestId, iterationIndex) {
    const folderAccordion = document.getElementById(`dynamic-accordion-${parentId}-${iterationIndex}`);

    if (folderAccordion === null) {
        expandIterationRequestAccordion(requestId, iterationIndex);
    }
    else {
        expandIterationRequestWithFolderAccordion(folderAccordion, requestId, iterationIndex);
    }
}

// `ALL REQUESTS TAB START`

// eslint-disable-next-line no-unused-vars
function handleAccordionClick ({ accordionId, headerId, contentId }) {
    const accordion = document.getElementById(accordionId),
        header = document.getElementById(headerId),
        content = document.getElementById(contentId);

    if (accordion && header && content) { accordion.classList.toggle('active'); }
    if (header) { header.classList.toggle('active'); }
    if (content) { content.classList.toggle('active'); }
}

// eslint-disable-next-line one-var
const uiComponents = {

        /**
         * Creates an accordion component with header and content
         * @param {Object} params - The accordion parameters
         * @param {string} params.header - HTML content for the accordion header
         * @param {string} params.content - HTML content for the accordion body
         * @param {number} params.iterationIndex - Iteration index
         * @param {string} params.id - Unique identifier for the accordion
         * @param {string} params.parentId - Parent component identifier
         * @param {string} [params.styles] - Optional styles for the accordion
         * @param {boolean} [params.expanded=false] - Whether accordion should be expanded by default
         * @returns {string} HTML string for the accordion component
         */
        createAccordion ({
            header,
            content,
            iterationIndex,
            id,
            parentId,
            styles,
            expanded = false
        }) {
            const accordionId = `dynamic-accordion-${id}-${iterationIndex}`,
                headerId = `dynamic-accordion-header-${id}-${iterationIndex}`,
                contentId = `dynamic-accordion-content-${id}-${iterationIndex}`;

            return `
                <div
                    class="dynamic-accordion ${styles} ${expanded ? 'active' : ''}"
                    id="${accordionId}"
                    data-parent-id="${parentId}"
                >
                    <div id="${headerId}" class="dynamic-accordion-header ${expanded ? 'active' : ''}"
                        onclick="handleAccordionClick({
                            accordionId: '${accordionId}',
                            headerId: '${headerId}',
                            contentId: '${contentId}'
                        })">
                        ${header}
                    </div>
                    <div id="${contentId}" class="dynamic-accordion-content ${expanded ? 'active' : ''}">
                        ${content}
                    </div>
                </div>
            `;
        }
    },

    utils = {
        /** Creates HTTP response status display
         * @param {string} status - Status text
         * @param {number} code - Status code
         * @returns {string} Status HTML
         */
        getResponseStatusDiv (status, code) {
            let styleClasses = 'http flex items-center';

            if (code >= 200 && code < 300) {
                styleClasses += ' success';
            }
            else if (code >= 300 && code < 400) {
                styleClasses += ' redirect';
            }
            else {
                styleClasses += ' error';
            }

            return ` <span class="${styleClasses}">${code} ${status} </span> `;
        },

        /** Creates colored HTTP verb display
         * @param {string} verb - HTTP method
         * @returns {string} Verb HTML
         */
        getHttpVerbDiv (verb) {
            const colorMap = {
                    GET: '#28a745',
                    POST: '#007bff',
                    PUT: '#fd7e14',
                    DELETE: '#dc3545',
                    PATCH: '#ffc107',
                    OPTIONS: '#20c997',
                    HEAD: '#6f42c1'
                },
                color = colorMap[verb] || '#EDEDED';

            return `<span class="text-sm font-mono font-semibold" style="color: ${color}">
                        ${verb}
                    </span>
                   `;
        },

        /** Creates carat icon
         * @param {string} padding - Padding value
         * @returns {string} SVG HTML
         */
        getCaratSvg (padding) {
            /* eslint-disable max-len */
            return `
                <div
                class="flex items-center border rounded border-secondary ${padding}">
                    <svg class="dynamic-accordion-carat" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="16px" height="16px"> <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"/> </svg>
                </div>
            `;
            /* eslint-enable max-len */
        },

        /** Generates unique ID
         * @param {string} prefix - ID prefix
         * @returns {string} Unique ID
         */
        generateId (prefix) {
            return `${prefix}-${Math.random().toString(36).slice(2, 17)}`;
        }
    },

    /**
     * Generates SVG markup for a clipboard icon
     * @param {boolean} isCopied - Indicates if content has been copied
     * @returns {string} SVG markup string for either a checkmark (if copied) or clipboard icon
     */
    getClipboardIconMarkup = (isCopied = false) => {
        /* eslint-disable max-len */
        return isCopied ?
            ` <svg style="width: 16px; height: 16px" fill="none" stroke="green" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /> </svg>
        ` :
            ` <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 12 12" fill="none"><g clip-path="url(#clip0_2294_3237)"><path d="M1.5 7.125C1.5 7.33211 1.66789 7.5 1.875 7.5H2.25V8.25H1.875C1.25368 8.25 0.75 7.74632 0.75 7.125V1.875C0.75 1.25368 1.25368 0.75 1.875 0.75H7.125C7.74632 0.75 8.25 1.25368 8.25 1.875V2.25H7.5V1.875C7.5 1.66789 7.33211 1.5 7.125 1.5H1.875C1.66789 1.5 1.5 1.66789 1.5 1.875V7.125Z" fill="#6B6B6B"/><path fill-rule="evenodd" clip-rule="evenodd" d="M4.875 3.75C4.25368 3.75 3.75 4.25368 3.75 4.875V10.125C3.75 10.7463 4.25368 11.25 4.875 11.25H10.125C10.7463 11.25 11.25 10.7463 11.25 10.125V4.875C11.25 4.25368 10.7463 3.75 10.125 3.75H4.875ZM4.5 4.875C4.5 4.66789 4.66789 4.5 4.875 4.5H10.125C10.3321 4.5 10.5 4.66789 10.5 4.875V10.125C10.5 10.3321 10.3321 10.5 10.125 10.5H4.875C4.66789 10.5 4.5 10.3321 4.5 10.125V4.875Z" fill="#6B6B6B"/></g><defs><clipPath id="clip0_2294_3237"><rect width="12" height="12" fill="white"/></clipPath></defs></svg>
        `;
        /* eslint-enable max-len */
    },

    /**
     * Copies text content from an element to the clipboard and updates the copy button UI
     * @param {string} elementId - ID of the element containing text to copy
     * @returns {void}
     */
    // eslint-disable-next-line no-unused-vars
    copyTextToClipboard = (elementId) => {
        try {
            const content = document.getElementById(elementId).textContent.trim();

            navigator.clipboard.writeText(content).then(() => {
                const button = document.querySelector(`#${elementId}`)
                    .closest('.copyable-container')
                    .querySelector('.copy-button');

                button.innerHTML = getClipboardIconMarkup(true);
                setTimeout(() => {
                    button.innerHTML = getClipboardIconMarkup();
                }, 2000);
            });
        }
        catch (e) {
            console.error('error copying content to clipboard', e);
        }
    },

    Formatter = {

        /**
         * Formats content by attempting to parse and stringify as JSON
         * @param {string} content - Content to format
         * @returns {string} Formatted content string
         */
        default (content) {
            try {
                return JSON.stringify(JSON.parse(content), null, 4);
            }
            catch (e) {
                console.error('error formatting content');

                return content;
            }
        },

        /**
         * Prettifies XML string with proper indentation
         * @param {string} xml - The XML to clean
         * @return string - Prettified XML string
         * ref:- https://gist.github.com/sente/1083506?permalink_comment_id=4758685#gistcomment-4758685
         */
        xml (xml) {
            let pad = 0;
            const padding = '\u0020'.repeat(4);

            xml = xml.replace(/(\r\n|\n|\r)/gm, '\u0020').replace(/>\s+</g, '><');
            xml = xml.replace(/(>)(<)(\/*)/g, '$1\r\n$2$3');

            return xml.split('\r\n').map((node) => {
                let indent = 0;

                if (node.match(/.+<\/\w[^>]*>$/)) {
                    indent = 0;
                }

                else if (node.match(/^<\/\w/) && pad > 0) {
                    pad -= 1;
                }
                else if (node.match(/^<[\w^>]*[^/]>.*$/)) {
                    indent = 1;
                }
                else {
                    indent = 0;
                }
                pad += indent;

                return padding.repeat(pad - indent) + node;
            }).join('\r\n');
        }
    },

    ContentManager = {

        /**
         * Formats content based on specified language
         * @param {string} content - Content to format
         * @param {string} language - Language identifier ('html', 'xml', etc.)
         * @returns {string} Formatted content string
         */
        formatContent (content, language) {
            if (language === 'html' || language === 'xml') {
                return Formatter.xml(content);
            }

            return Formatter.default(content);
        },

        /**
         * Normalizes content based on its type and structure
         * @param {(string|Object)} content - Content to normalize
         * @returns {(string|Object)} Normalized content
         */
        _normalizeContent (content) {
            if (!content) { return ''; }

            if (content.raw) {
                return content.raw;
            }
            if (content.graphql) {
                return {
                    query: content.graphql.query,
                    values: content.graphql.values
                };
            }
            if (content.formdata && content.formdata.members) {
                return content.formdata.members;
            }

            return content;
        },

        /**
         * Generates a code block element with syntax highlighting
         * @param {string} id - Unique identifier for the code block
         * @param {string} content - Content to display in the code block
         * @param {string} language - Programming language for syntax highlighting
         * @returns {HTMLElement} Generated code block element
         */
        _generateCodeBlockElement (id, content, language) {
            try {
                const divElement = document.createElement('div'),
                    formattedContent = this.formatContent(content, language),
                    preElement = document.createElement('pre'),
                    codeElement = document.createElement('code');

                codeElement.className = `language-${language}`;
                codeElement.textContent = formattedContent;
                preElement.appendChild(codeElement);

                divElement.id = id;
                divElement.appendChild(preElement);

                // eslint-disable-next-line no-undef
                hljs.highlightElement(codeElement);

                return divElement;
            }
            catch (e) {
                console.error('[_generateCodeBlockElement] error loading content', e);

                return null;
            }
        },

        /**
         * Creates a copy button element for code blocks
         * @param {string} id - ID of the associated code block
         * @returns {string} HTML string for the copy button
         */
        createCopyButton (id) {
            return `
                <div style="position: absolute; top: 6px; right: 6px">
                    <div onclick="copyTextToClipboard('${id}')" class="copy-button">
                        ${getClipboardIconMarkup()}
                    </div>
                </div>
            `;
        },

        /**
         * Generates a lazy-load block for large content
         * @param {string} id - Unique identifier for the content block
         * @param {string} content - Content to be lazy-loaded
         * @param {string} language - Programming language of the content
         * @returns {string} HTML string for the lazy-load block
         */
        _generateLazyLoadCodeBlock (id, content, language) {
            const elementId = utils.generateId('load-body-');

            return `
                <div style="overflow: auto; display: flex; align-items: center;"
                    id="${elementId}" data-content="${encodeURIComponent(content)}"
                >
                    <div class="load-body-placeholder">
                        <span class="load-body-placeholder-text">
                            This body is hidden due to it's size.
                        </span>
                        <div>
                            <span class="load-body-btn"
                                    onclick="renderFormattedContent({
                                    elementId: '${elementId}',
                                    language: '${language}',
                                    copyId: '${id}' })"
                            >
                                Load Body
                            </span>
                        </div>
                    </div>
                </div>
            `;
        },

        /**
         * Creates a formatted content block with optional copy functionality
         * @param {Object} options - Configuration options
         * @param {string} options.language - Programming language of the content
         * @param {string} options.content - Content to display
         * @param {boolean} options.allowCopy - Whether to include copy functionality
         * @returns {string|null} HTML string for the content block or null if invalid input
         */
        generateContentBlock ({ language, content, allowCopy }) {
            if (!language || !content) { return null; }
            language = language.toLowerCase();

            if (!['json', 'html', 'xml', 'text', 'javascript'].includes(language)) {
                return `
                    <div class="flex items-center p-24 bg-secondary">
                        <span>${content}</span>
                    </div>
                `;
            }

            try {
                content = this._normalizeContent(content);
                const loadOnDemand = content.length > 100000,

                    id = utils.generateId('copy-'),
                    contentDiv = loadOnDemand ? /* if > 10kb, load on demand */
                        this._generateLazyLoadCodeBlock(id, content, language) :
                        this._generateCodeBlockElement(id, content, language).outerHTML;

                return `${!loadOnDemand ?
                    `
                <div class="copyable-container">
                        ${allowCopy ? this.createCopyButton(id) : ''}
                        ${contentDiv}
                    </div>
                ` : contentDiv
                }
                `;
            }
            catch (e) {
                console.error('[generateContentBlock] error loading content', e);

                return null;
            }
        }
    },

    ExecutionHelper = {
        /**
         * Generates the headers table for the request/response of the execution
         * @param {Object} params - Parameters for the headers table
         * @param {string} params.id - execution id
         * @param {string} params.parentId - folder/collection identifier
         * @param {number} params.iterationIndex - Iteration index
         * @param {string} params.title - Table title
         * @param {Array<Object>} params.headers - Headers array
         * @returns {string} HTML string for the headers table
         * @private
         */
        _generateHeadersTable ({ id, parentId, iterationIndex, title, headers }) {
            const accordionHeader = `
                <div class="execution-info-section-header">
                    ${utils.getCaratSvg('p-1')}
                    <span>${title}</span>
                </div>
            `,
                headerRows = headers.map((header) => {
                    return `
                        <tr>
                            <td>
                                <div class="cell-content">${header.key || '-'}</div>
                            </td>
                            <td>
                                <div class="cell-content"> ${header.value || '-'}</div>
                            </td>
                        </tr>
                    `;
                }),

                content = `
                    <div class="dynamic-accordion-content-wrapper http-headers">
                        <table class="http-headers-table">
                            <thead>
                                <tr> <th>Name</th> <th class="">Value</th> </tr>
                            </thead>
                            <tbody>
                                ${headerRows.join('')}
                            </tbody>
                        </table>
                    </div>
                `;

            return uiComponents.createAccordion({
                header: accordionHeader,
                content: content,
                iterationIndex: iterationIndex,
                id: id,
                parentId: parentId
            });
        },

        /**
         * Generates the body section for the request / response of the execution
         * @param {Object} params - Parameters for the body section
         * @param {Object} params.body - Body object
         * @param {string} params.title - section title
         * @param {string} params.id - execution id
         * @param {string} params.parentId - folder / collection id
         * @param {number} params.iterationIndex - iteration index
         * @param {string} params.language - language of the body
         * @returns {string} HTML string for the body section
         * @private
         */
        _generateBody ({ title, body, id, parentId, iterationIndex, language }) {
            const content = ContentManager.generateContentBlock({
                    content: body, allowCopy: true, language: language
                }),

                contentDiv = `
                    <div class="execution-bodies-section-content">
                        ${content}
                    </div>
                `,

                header = `
                    <div class="execution-info-section-header" >
                        ${utils.getCaratSvg('p-1')}
                        <span>${title}</span>
                    </div>
                `;

            return uiComponents.createAccordion({
                id: id,
                parentId: parentId,
                header: header,
                content: contentDiv,
                iterationIndex: iterationIndex
            });
        },

        /**
         * Generates headers section for an execution
         * @param {Object} parent - parent of the execution, either folder or collection
         * @param {Object} execution - Execution details containing request and response data
         * @param {number} iterationIndex - Iteration index
         * @param {boolean} isRequest - Whether to generate request headers
         * @returns {string} Combined HTML string for both header sections
         */
        generateHeaderSection (parent, execution, iterationIndex, isRequest) {
            if (isRequest && execution.request && execution.request.header) {
                return this._generateHeadersTable({
                    id: `${execution.item.id}-request-headers`,
                    parentId: `${parent.id}-request-headers`,
                    iterationIndex: iterationIndex,
                    title: `Request headers (${execution.request.header.length})`,
                    headers: execution.request.header
                });
            }

            if (!isRequest && execution.response && execution.response.header) {
                return this._generateHeadersTable({
                    id: `${execution.item.id}-response-headers`,
                    parentId: `${parent.id}-response-headers`,
                    iterationIndex: iterationIndex,
                    title: `Response headers (${execution.response.header.length})`,
                    headers: execution.response.header
                });
            }

            return '';
        },

        /**
         * Generates body section for an execution
         * @param {Object} parent - parent of the execution, either folder or collection
         * @param {Object} execution - Execution details containing request and response data
         * @param {number} iterationIndex - Iteration index
         * @param {boolean} isRequest - Whether to generate request body
         * @returns {string} Combined HTML string for both bodies sections
         */
        generateBodySection (parent, execution, iterationIndex, isRequest) {
            if (isRequest && execution.request && execution.request.body) {
                return this._generateBody({
                    title: 'Request body',
                    body: execution.request.body,
                    id: `${execution.item.id}-request-body`,
                    parentId: `${parent.id}-request-body`,
                    iterationIndex: iterationIndex,
                    language: execution.request.contentType
                });
            }

            if (!isRequest && execution.response && execution.response.body) {
                return this._generateBody({
                    title: 'Response body',
                    body: execution.response.body,
                    id: `${execution.item.id}-response-body`,
                    parentId: `${parent.id}-response-body`,
                    iterationIndex: iterationIndex,
                    language: execution.response.contentType
                });
            }

            return '';
        },

        /**
         * Generates errors section for an execution
         * @param {Object} parent - parent of the execution, either folder or collection
         * @param {Object} execution - Execution details containing request and response data
         * @param {number} iterationIndex - Iteration index
         * @returns {string} Combined HTML string for errors
         */
        generateErrorsSection (parent, execution, iterationIndex) {
            if (!execution.errors || !Array.isArray(execution.errors) || execution.errors.length === 0) {
                return '';
            }
            const errors = execution.errors,
                header = `
                    <div class="execution-info-section-header">
                        ${utils.getCaratSvg('p-1')}
                        <span>Request errors (${errors.length})</span>
                    </div>
                `,
                errorRows = errors.map((error) => {
                    const errorBlock = ContentManager.generateContentBlock({
                        language: 'javascript',
                        content: error.name + ' ' + error.message
                    });

                    return `
                        <div class="execution-errors-container">
                            <div style="margin-bottom: 12px">
                                <p>
                                    <span class="neutral-text mr-2">Error </span>
                                    <span class="font-medium">${error.message}</span>
                                </p>
                                ${(error.source && error.source === 'script-level-request') ? `
                                    <p class="neutral-text script-request-error-detail">
                                    This error occurred while executing an API call programmatically from the scripts.
                                    </p>
                                    ` : ''}
                            </div>
                            <div class="execution-error-detail">
                                ${errorBlock}
                            </div>
                        </div>
                    `;
                }),

                content = `
                    <div class="dynamic-accordion-content-wrapper error-section">
                        ${errorRows.join('')}
                    </div>
                `;

            return uiComponents.createAccordion({
                header: header,
                content: content,
                iterationIndex: iterationIndex,
                id: `${execution.item.id}-errors`,
                parentId: `${parent.id}-errors`
            });
        },

        /**
         * Generates assertion details sections
         * @param {Object} parent - parent of the execution, either folder or collection
         * @param {Object} execution - Execution details containing request and response data
         * @param {number} iterationIndex - Iteration index
         * @returns {string} Combined HTML string for the assertion details table
         */
        generateTestDetailsSection (parent, execution, iterationIndex) {
            if (!execution.tests || !Array.isArray(execution.tests) || execution.tests.length === 0) {
                return '';
            }

            const tests = execution.tests,
                getErrorMsgCodeBlock = (msg) => {
                    return ContentManager.generateContentBlock({
                        content: msg,
                        language: 'javascript'
                    });
                },

                header = `
                    <div class="execution-info-section-header">
                         ${utils.getCaratSvg('p-1')}
                        <span>Tests (${execution.tests.length})</span>
                    </div>
                `,
                testRows = tests.map((test) => {
                    return `
                    <tr class="${test.status === 'failed' ? 'error-row' : ''}">
                        <td>
                            <div class="test-status-badge ${test.status}">
                                ${test.status === 'failed' ? 'FAIL' : test.status === 'passed' ? 'PASS' : 'SKIP'}
                            </div>
                        </td>
                        <td>${test.name}</td>
                    </tr>
                    ${test.status === 'failed' ? `
                        <tr class="error-msg-row">
                            <td></td>
                            <td>
                                <span class="test-error-data">
                                    ${getErrorMsgCodeBlock(test.error ? (test.error.message || '') : '')}
                                </span>
                            </td>
                        </tr>
                        ` : ''}
                    `;
                }),

                content =
                    `<div class="dynamic-accordion-content-wrapper tests-section">
                            <table class="assertions-table">
                                <thead> <tr> <th>Status</th> <th>Test</th> </tr> </thead>
                                <tbody> ${testRows.join('')} </tbody>
                            </table>
                    </div>
                    `;

            return uiComponents.createAccordion({
                header: header,
                content: content,
                iterationIndex: iterationIndex,
                id: `${execution.item.id}-tests`,
                parentId: `${parent.id}-tests`
            });
        }
    },

    // eslint-disable-next-line no-unused-vars
    renderFormattedContent = ({ elementId, language, copyId }) => {
        let contentDiv = document.getElementById(elementId);

        if (!contentDiv) { return; }

        const loadBtnDiv = contentDiv.querySelector('.load-body-btn');

        if (loadBtnDiv) {
            loadBtnDiv.onclick = null; // remove click listener
            loadBtnDiv.classList.add('loading');
            loadBtnDiv.textContent = 'Loading body ...';
        }

        try {
            setTimeout(() => {
                const encodedData = contentDiv.getAttribute('data-content'),
                    text = decodeURIComponent(encodedData),
                    formattedContent = ContentManager.formatContent(text, language),
                    preElement = document.createElement('pre'),
                    codeElement = document.createElement('code'),
                    wrapperDiv = document.createElement('div');

                wrapperDiv.className = 'copyable-container';
                wrapperDiv.innerHTML = ContentManager.createCopyButton(copyId);

                codeElement.className = `language-${language}`;
                codeElement.textContent = formattedContent;

                wrapperDiv.id = copyId;
                preElement.appendChild(codeElement);
                wrapperDiv.appendChild(preElement);

                contentDiv.innerHTML = '';
                contentDiv.removeAttribute('data-content');
                contentDiv.appendChild(wrapperDiv);
                // eslint-disable-next-line no-undef
                hljs.highlightElement(codeElement); /* hljs is a reference to highlight.js*/
            }, 0);
        }
        catch (e) {
            console.error('[renderFormattedContent] error loading content', e);
            contentDiv.innerHTML = '';
            if (loadBtnDiv) {
                loadBtnDiv.textContent = 'Error loading body';
                loadBtnDiv.classList.remove('loading');
            }
        }
    },

    // eslint-disable-next-line no-unused-vars
    EventListeners = {
        // Adds event listeners for expand/collapse buttons in the iteration tab
        addIterationExpandCollapseEventListeners () {
            const expandAllBtn = document.getElementById('iteration-expand-all'),
                collapseBtn = document.getElementById('iteration-collapse-all');

            expandAllBtn.addEventListener('click', () => {
                const accordions = document.querySelectorAll('.dynamic-accordion');

                if (!accordions || accordions.length === 0) { return; }

                accordions.forEach((acc) => {
                    if (!acc.classList.contains('active')) {
                        acc.classList.add('active');
                    }
                    const header = acc.querySelector('.dynamic-accordion-header'),
                        content = acc.querySelector('.dynamic-accordion-content');

                    if (header && !header.classList.contains('active')) {
                        header.classList.add('active');
                    }

                    if (content && !content.classList.contains('active')) {
                        content.classList.add('active');
                    }
                });
            });

            collapseBtn.addEventListener('click', () => {
                const accordions = document.querySelectorAll('.dynamic-accordion');

                if (!accordions || accordions.length === 0) { return; }

                accordions.forEach((acc) => {
                    if (acc.classList.contains('active')) {
                        acc.classList.remove('active');
                    }
                    const header = acc.querySelector('.dynamic-accordion-header'),
                        content = acc.querySelector('.dynamic-accordion-content');

                    if (header && header.classList.contains('active')) {
                        header.classList.remove('active');
                    }
                    if (content && content.classList.contains('active')) {
                        content.classList.remove('active');
                    }
                });
            });
        }
    },

    /* eslint-disable no-unused-vars */
    IterationManager = {

        /** Creates execution accordion
         * @param {Object} parent - Parent info of the request
         * @param {Object} execution - Execution details
         * @param {number} iterationIndex - Iteration index
         * @returns {string} HTML string
         * @private
         */
        _createExecution (parent, execution, iterationIndex) {
            const { total: totalTests, passed: passedTests, failed: failedTests, skipped: skippedTests } =
                    execution.testStats,
                executionName = execution.item.name,
                executionUrl = execution.request.url,

                getTestStatTooltipData = () => {
                    if (totalTests <= 0) {
                        return '';
                    }

                    let passedMsg = `<span class="number">${passedTests}</span> passed`,
                        failedMsg = `${failedTests > 0 ? ` <span class="number">${failedTests}</span> failed` :
                            ' no failed test'}`,
                        skippedMsg = `${skippedTests > 0 ? ` and <span class="number">${skippedTests}</span> skipped` :
                            ''}`;

                    failedMsg = skippedTests > 0 ? ',' + failedMsg : ' and ' + failedMsg;
                    const testWord = totalTests === 1 ? 'test' : 'tests';

                    return `${totalTests} ${testWord} in this request:\n${passedMsg + failedMsg + skippedMsg}`;
                },

                executionAccHeader =
                `
                <div class="execution">
                    <div style="flex-shrink: 0">
                        ${utils.getCaratSvg('p-3')}
                    </div>
                    <div class="flex-row-wrap gap-16 full-width">
                        <div class="execution-content">
                            <div style="max-height: 34px">
                                <div class="flex gap-8">
                                    ${utils.getHttpVerbDiv(execution.request.method)}
                                    <div style="display: flex;" class="tooltip-container">
                                        <span class="execution-name"> ${executionName} </span>
                                        <span class="tooltip">${executionName}</span>
                                    </div>
                                </div>
                                <div class="tooltip-container">
                                    <span class="execution-url"> ${executionUrl} </span>
                                    <span class="tooltip"> ${executionUrl} </span>
                                </div>
                            </div>
                        </div>
                        <div class="execution-metadata">
                            ${execution.response ? `
                                <div class="flex items-center gap-8">
                                    ${utils.getResponseStatusDiv(execution.response.status, execution.response.code)}
                                    <div class="dot"></div>

                                    <span class="text-sm font-regular text-secondary" >
                                        ${execution.response.responseTime}
                                    </span>
                                    <div class="dot"></div>

                                    <span class="text-sm font-regular text-secondary">
                                        ${execution.response.responseSize}
                                    </span>
                                </div>
                                ` : ''}

                            <div class="flex items-center gap-4 tooltip-container ${totalTests < 1 ? 'hidden' : ''}">
                                <div class="test-stat passed">
                                    <span>${passedTests > 0 ? passedTests : '0'}</span>
                                 </div>
                                 <div class="test-stat failed ${failedTests === 0 ? 'blur' : ''}">
                                    <span>${failedTests > 0 ? failedTests : '-'}</span>
                                 </div>
                                 <div class="tooltip">${getTestStatTooltipData()}</div>
                            </div>
                        </div>
                    </div>
                </div>
            `,
                requestHeader = ExecutionHelper.generateHeaderSection(parent, execution, iterationIndex, true),
                responseHeaders = ExecutionHelper.generateHeaderSection(parent, execution, iterationIndex, false),
                requestBody = ExecutionHelper.generateBodySection(parent, execution, iterationIndex, true),
                responseBody = ExecutionHelper.generateBodySection(parent, execution, iterationIndex, false),
                errors = ExecutionHelper.generateErrorsSection(parent, execution, iterationIndex),
                tests = ExecutionHelper.generateTestDetailsSection(parent, execution, iterationIndex),

                executionAccContent = `
                    <div class="dynamic-accordion-content-wrapper exec-content">
                        ${requestHeader}
                        ${requestBody}
                        ${responseHeaders}
                        ${responseBody}
                        ${errors}
                        ${tests}
                    </div>
                `;

            return uiComponents.createAccordion({
                header: executionAccHeader,
                content: executionAccContent,
                iterationIndex: iterationIndex,
                id: execution.item.id,
                parentId: parent.id,
                styles: ' bg-white'
            });
        },

        /** Creates folder accordion
         * @param {Object} parent - Folder info
         * @param {string} executions - Executions HTML
         * @param {number} iterationIndex - Iteration index
         * @param {number} totalExecutions - Count of executions within the folder
         * @returns {string} HTML string
         * @private
         */
        _createFolder (parent, executions, iterationIndex, totalExecutions) {
            const content = `
                <div class="dynamic-accordion-content-wrapper folder-content">
                    ${executions}
                </div>
            `,

                /* eslint-disable max-len */
                folderElementsDiv = parent.folders.map((folder, index) => {
                    return `
                        <div class="flex items-center gap-8">
                            <div class="flex items-center gap-2 ${folder.length > 20 ? 'tooltip-container' : ''}">
                                <div class="flex p-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><g clip-path="url(#a)" stroke="#6B6B6B"><path d="M1 14V2a1 1 0 0 1 1-1h3.697a1 1 0 0 1 .555.168l2.496 1.664A1 1 0 0 0 9.303 3H14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z" stroke-linejoin="round"/><path d="M1 6h14" stroke-linecap="round"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath></defs></svg>
                                </div>
                                <span class="execution-folder-name"> ${folder} </span>
                                <span class="tooltip">${folder}</span>
                            </div>
                            ${index < parent.folders.length - 1 ? '<span class="text-base text-secondary">/</span>' : ''}
                            <div></div>
                        </div>
                    `;
                }).join(''),
                /* eslint-enable max-len*/

                header = `
                        <div class="execution-folder-container" >
                            <div style="flex-shrink: 0">
                                ${utils.getCaratSvg('p-3')}
                            </div>
                            <div class="flex-row-wrap">${folderElementsDiv}</div>
                        </div>
                `;

            return uiComponents.createAccordion({
                parentId: `parent-${iterationIndex}`,
                content: content,
                iterationIndex: iterationIndex,
                id: parent.id,
                header: header,
                styles: ' parent no-border'
            });
        },

        /** Creates iteration item
         * @param {Object} item - Iteration Item info - folder or request
         * @param {number} iterationIndex - Iteration index
         * @returns {string} HTML string
         * @private
         */
        _createIterationItem (item, iterationIndex) {
            const { parent, executions } = item;

            let executionsMarkup = executions
                .map((exe) => { return this._createExecution(parent, exe, iterationIndex); })
                .join('');

            executionsMarkup =
            ` <div class="flex-col gap-8"> ${executionsMarkup} </div> `;

            return parent.name ?
                this._createFolder(parent, executionsMarkup, iterationIndex, executions.length) :
                `<div class="flex-col gap-8">${executionsMarkup}</div>`;
        },

        /** Creates iteration container
         * @param {number} index - Iteration index
         */
        createIteration (index) {
            // eslint-disable-next-line no-undef
            const iteration = iterations[index], /* iterations is defined in the hbs template script tag */
                items = iteration.items,
                iterationContainer = document.getElementById('iteration-container');

            let itemsMarkup = '',
                iterationContent = '',
                iterationHeader = '';

            items.forEach((item) => {
                itemsMarkup += this._createIterationItem(item, index);
            });

            iterationHeader = `
                <div class="flex items-center gap-12">
                    <div style="padding-left: 4px">
                        ${utils.getCaratSvg('p-3')}
                    </div>
                    <span class="text-lg font-semibold text-primary">
                        Iteration ${index + 1}
                    </span>
                </div>
            `;

            iterationContent = uiComponents.createAccordion({
                header: iterationHeader,
                content: `
                            <div class="dynamic-accordion-content-wrapper iteration-details">
                                ${itemsMarkup}
                            </div>
                        `,
                iterationIndex: index,
                id: `iteration-${index}`,
                parentId: `iteration-${index}-container`,
                expanded: true,
                styles: ' py-16 px-12'
            });

            iterationContainer.innerHTML = iterationContent;
        }
    };
    /* eslint-enable no-unused-vars */

// `ALL REQUESTS TAB END`

// Initialize all functionality
document.addEventListener('DOMContentLoaded', () => {
    appendFooterToTabContent();
    initializeTabs();
    initializeMarkdownContainer();
    initializeTopLevelAccordions();
    initializeAccordionButtons();
    EventListeners.addIterationExpandCollapseEventListeners();
});


</script>

<script>
    /**
     * These constants must be defined inline rather than in script.js
     * since they reference Handlebars template elements that are evaluated during template compilation
     */
    const iterations={"0":{"iterationIndex":0,"items":[{"parent":{"id":"f27db949-d437-48ee-a455-319091f78214","name":"Setup","folders":["Setup"]},"executions":[{"item":{"id":"5d0dc4cf-4c3c-47c0-b3ea-fa22449fe04c","name":"Login"},"request":{"url":"https://demoqa.com/Account/v1/Login","method":"POST","body":"{\n  \"userName\": \"uperzin\",\n  \"password\": \"Uperzin*123\"\n}","header":[{"key":"Content-Type","value":"application/json","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.42.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"8d1f7b44-3bd0-44b7-b6f6-56c5faf96634","system":true},{"key":"Host","value":"demoqa.com","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true},{"key":"Content-Length","value":"56","system":true}],"contentType":"json"},"response":{"id":"49013bff-dc07-4f40-873e-e73b90f75942","status":"OK","code":200,"header":[{"key":"Server","value":"nginx/1.17.10 (Ubuntu)"},{"key":"Date","value":"Wed, 15 Jan 2025 02:34:14 GMT"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"369"},{"key":"Connection","value":"keep-alive"},{"key":"X-Powered-By","value":"Express"},{"key":"ETag","value":"W/\"171-aE5LfEvrfUmj/lwmloNMXzgTIOU\""}],"contentType":"json","responseTime":"617ms","responseSize":"369B","body":"{\"userId\":\"c35206aa-99e6-4bbf-87b7-8dabc2bb4f96\",\"username\":\"uperzin\",\"password\":\"Uperzin*123\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InVwZXJ6aW4iLCJwYXNzd29yZCI6IlVwZXJ6aW4qMTIzIiwiaWF0IjoxNzM2MTEyNjEzfQ.yGgrliBKL6-hHubLZC2i5yUQ6c7CIbM6O9PlzHeiQLc\",\"expires\":\"2025-01-12T21:30:13.000Z\",\"created_date\":\"2024-12-28T19:39:48.000Z\",\"isActive\":false}"},"errors":[],"tests":[{"name":"Status code is 200","status":"passed"}],"testStats":{"total":1,"passed":1,"failed":0,"skipped":0}}]},{"parent":{"id":"5ebe9cce-27bb-4f8c-ab37-57ad324f9f36","name":"Add Books / TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]","folders":["Add Books","TC1: Validar agregar libro cuando se proporciona un Libro existente [Code: 201]"]},"executions":[{"item":{"id":"fd5c47eb-a9f0-4ae8-bf24-c4a819acfb5b","name":"Obtener Libros de la Tienda"},"request":{"url":"https://demoqa.com/BookStore/v1/Books","method":"GET","header":[{"key":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InVwZXJ6aW4iLCJwYXNzd29yZCI6IlVwZXJ6aW4qMTIzIiwiaWF0IjoxNzM2MTEyNjEzfQ.yGgrliBKL6-hHubLZC2i5yUQ6c7CIbM6O9PlzHeiQLc","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.42.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"e1bb08e1-bffc-459c-987d-cafb9d4ac301","system":true},{"key":"Host","value":"demoqa.com","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}]},"response":{"id":"76deb757-3a33-45cd-9f1c-a0b0fbaaa8d0","status":"OK","code":200,"header":[{"key":"Server","value":"nginx/1.17.10 (Ubuntu)"},{"key":"Date","value":"Wed, 15 Jan 2025 02:34:14 GMT"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"4514"},{"key":"Connection","value":"keep-alive"},{"key":"X-Powered-By","value":"Express"},{"key":"ETag","value":"W/\"11a2-8zfX++QwcgaCjSU6F8JP9fUd1tY\""}],"contentType":"json","responseTime":"86ms","responseSize":"4.51kB","body":"{\"books\":[{\"isbn\":\"9781449325862\",\"title\":\"Git Pocket Guide\",\"subTitle\":\"A Working Introduction\",\"author\":\"Richard E. Silverman\",\"publish_date\":\"2020-06-04T08:48:39.000Z\",\"publisher\":\"O\u0027Reilly Media\",\"pages\":234,\"description\":\"This pocket guide is the perfect on-the-job companion to Git, the distributed version control system. It provides a compact, readable introduction to Git for new users, as well as a reference to common commands and procedures for those of you with Git exp\",\"website\":\"http://chimera.labs.oreilly.com/books/1230000000561/index.html\"},{\"isbn\":\"9781449331818\",\"title\":\"Learning JavaScript Design Patterns\",\"subTitle\":\"A JavaScript and jQuery Developer\u0027s Guide\",\"author\":\"Addy Osmani\",\"publish_date\":\"2020-06-04T09:11:40.000Z\",\"publisher\":\"O\u0027Reilly Media\",\"pages\":254,\"description\":\"With Learning JavaScript Design Patterns, you\u0027ll learn how to write beautiful, structured, and maintainable JavaScript by applying classical and modern design patterns to the language. If you want to keep your code efficient, more manageable, and up-to-da\",\"website\":\"http://www.addyosmani.com/resources/essentialjsdesignpatterns/book/\"},{\"isbn\":\"9781449337711\",\"title\":\"Designing Evolvable Web APIs with ASP.NET\",\"subTitle\":\"Harnessing the Power of the Web\",\"author\":\"Glenn Block et al.\",\"publish_date\":\"2020-06-04T09:12:43.000Z\",\"publisher\":\"O\u0027Reilly Media\",\"pages\":238,\"description\":\"Design and build Web APIs for a broad range of clients—including browsers and mobile devices—that can adapt to change over time. This practical, hands-on guide takes you through the theory and tools you need to build evolvable HTTP services with Microsoft\",\"website\":\"http://chimera.labs.oreilly.com/books/1234000001708/index.html\"},{\"isbn\":\"9781449365035\",\"title\":\"Speaking JavaScript\",\"subTitle\":\"An In-Depth Guide for Programmers\",\"author\":\"Axel Rauschmayer\",\"publish_date\":\"2014-02-01T00:00:00.000Z\",\"publisher\":\"O\u0027Reilly Media\",\"pages\":460,\"description\":\"Like it or not, JavaScript is everywhere these days-from browser to server to mobile-and now you, too, need to learn the language or dive deeper than you have. This concise book guides you into and through JavaScript, written by a veteran programmer who o\",\"website\":\"http://speakingjs.com/\"},{\"isbn\":\"9781491904244\",\"title\":\"You Don\u0027t Know JS\",\"subTitle\":\"ES6 \u0026 Beyond\",\"author\":\"Kyle Simpson\",\"publish_date\":\"2015-12-27T00:00:00.000Z\",\"publisher\":\"O\u0027Reilly Media\",\"pages\":278,\"description\":\"No matter how much experience you have with JavaScript, odds are you don’t fully understand the language. As part of the \\\\\\\"You Don’t Know JS\\\\\\\" series, this compact guide focuses on new features available in ECMAScript 6 (ES6), the latest version of the st\",\"website\":\"https://github.com/getify/You-Dont-Know-JS/tree/master/es6%20\u0026%20beyond\"},{\"isbn\":\"9781491950296\",\"title\":\"Programming JavaScript Applications\",\"subTitle\":\"Robust Web Architecture with Node, HTML5, and Modern JS Libraries\",\"author\":\"Eric Elliott\",\"publish_date\":\"2014-07-01T00:00:00.000Z\",\"publisher\":\"O\u0027Reilly Media\",\"pages\":254,\"description\":\"Take advantage of JavaScript\u0027s power to build robust web-scale or enterprise applications that are easy to extend and maintain. By applying the design patterns outlined in this practical book, experienced JavaScript developers will learn how to write flex\",\"website\":\"http://chimera.labs.oreilly.com/books/1234000000262/index.html\"},{\"isbn\":\"9781593275846\",\"title\":\"Eloquent JavaScript, Second Edition\",\"subTitle\":\"A Modern Introduction to Programming\",\"author\":\"Marijn Haverbeke\",\"publish_date\":\"2014-12-14T00:00:00.000Z\",\"publisher\":\"No Starch Press\",\"pages\":472,\"description\":\"JavaScript lies at the heart of almost every modern web application, from social apps to the newest browser-based games. Though simple for beginners to pick up and play with, JavaScript is a flexible, complex language that you can use to build full-scale \",\"website\":\"http://eloquentjavascript.net/\"},{\"isbn\":\"9781593277574\",\"title\":\"Understanding ECMAScript 6\",\"subTitle\":\"The Definitive Guide for JavaScript Developers\",\"author\":\"Nicholas C. Zakas\",\"publish_date\":\"2016-09-03T00:00:00.000Z\",\"publisher\":\"No Starch Press\",\"pages\":352,\"description\":\"ECMAScript 6 represents the biggest update to the core of JavaScript in the history of the language. In Understanding ECMAScript 6, expert developer Nicholas C. Zakas provides a complete guide to the object types, syntax, and other exciting changes that E\",\"website\":\"https://leanpub.com/understandinges6/read\"}]}"},"errors":[],"tests":[{"name":"Should Status code to be 200","status":"passed"},{"name":"should have at least 1 book in collection","status":"passed"}],"testStats":{"total":2,"passed":2,"failed":0,"skipped":0}},{"item":{"id":"ed2096ae-ad21-4672-80f1-1a37b50ee415","name":"Agregar 1 Libro a la Collection"},"request":{"url":"https://demoqa.com/BookStore/v1/Books","method":"POST","body":"{\n  \"userId\": \"c35206aa-99e6-4bbf-87b7-8dabc2bb4f96\",\n  \"collectionOfIsbns\": [\n    {\n      \"isbn\": \"9781449325862\"\n    }\n  ]\n}","header":[{"key":"Content-Type","value":"application/json","system":true},{"key":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InVwZXJ6aW4iLCJwYXNzd29yZCI6IlVwZXJ6aW4qMTIzIiwiaWF0IjoxNzM2MTEyNjEzfQ.yGgrliBKL6-hHubLZC2i5yUQ6c7CIbM6O9PlzHeiQLc","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.42.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"8297d5a1-e7b4-4c9d-aeb0-b19e95b32e26","system":true},{"key":"Host","value":"demoqa.com","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true},{"key":"Content-Length","value":"126","system":true}],"contentType":"json"},"response":{"id":"a79c44fa-64a2-487a-beaf-37ef35a72335","status":"Unauthorized","code":401,"header":[{"key":"Server","value":"nginx/1.17.10 (Ubuntu)"},{"key":"Date","value":"Wed, 15 Jan 2025 02:34:14 GMT"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"42"},{"key":"Connection","value":"keep-alive"},{"key":"X-Powered-By","value":"Express"},{"key":"ETag","value":"W/\"2a-bC4CQuIdtHQV/kR5x6cuQsTTjLY\""}],"contentType":"json","responseTime":"160ms","responseSize":"42B","body":"{\"code\":\"1200\",\"message\":\"Token expired.\"}"},"errors":[],"tests":[{"name":"Status code is 201","error":{"name":"AssertionError","index":0,"test":"Status code is 201","message":"expected response to have status code 201 but got 401","stack":"AssertionError: expected response to have status code 201 but got 401\n   at Object.eval sandbox-script.js:1:3)"},"status":"failed"},{"name":"Should have only 1 book as response","error":{"name":"AssertionError","index":1,"test":"Should have only 1 book as response","message":"expected undefined to be an array","stack":"AssertionError: expected undefined to be an array\n   at Object.eval sandbox-script.js:2:3)"},"status":"failed"},{"name":"Should have the same book than the added one","error":{"name":"TypeError","index":2,"test":"Should have the same book than the added one","message":"Cannot read properties of undefined (reading \u0027map\u0027)","stack":"TypeError: Cannot read properties of undefined (reading \u0027map\u0027)\n   at Object.eval sandbox-script.js:3:3)"},"status":"failed"}],"testStats":{"total":3,"passed":0,"failed":3,"skipped":0}},{"item":{"id":"6ffe147e-e118-408d-8c39-f2e029f92244","name":"Obtener Libros de la Tienda"},"request":{"url":"https://demoqa.com/Account/v1/User/c35206aa-99e6-4bbf-87b7-8dabc2bb4f96","method":"GET","header":[{"key":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InVwZXJ6aW4iLCJwYXNzd29yZCI6IlVwZXJ6aW4qMTIzIiwiaWF0IjoxNzM2MTEyNjEzfQ.yGgrliBKL6-hHubLZC2i5yUQ6c7CIbM6O9PlzHeiQLc","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.42.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"9769eda5-87b0-4ff7-b2d2-cc26397bec9a","system":true},{"key":"Host","value":"demoqa.com","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}]},"response":{"id":"e412d936-da8d-4b9a-bb69-f864afb0f4c8","status":"Unauthorized","code":401,"header":[{"key":"Server","value":"nginx/1.17.10 (Ubuntu)"},{"key":"Date","value":"Wed, 15 Jan 2025 02:34:14 GMT"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"103"},{"key":"Connection","value":"keep-alive"},{"key":"X-Powered-By","value":"Express"},{"key":"ETag","value":"W/\"67-Aksn3l+DmNmN/QRCRkeYl0/LcW4\""}],"contentType":"json","responseTime":"138ms","responseSize":"103B","body":"{\"userId\":null,\"username\":null,\"books\":null,\"status\":\"Failed\",\"code\":\"1200\",\"message\":\"Token expired.\"}"},"errors":[],"tests":[{"name":"Should Status code to be 200","error":{"name":"AssertionError","index":0,"test":"Should Status code to be 200","message":"expected response to have status code 200 but got 401","stack":"AssertionError: expected response to have status code 200 but got 401\n   at Object.eval sandbox-script.js:1:4)"},"status":"failed"},{"name":"Should have at least 1 book in collection","error":{"name":"AssertionError","index":1,"test":"Should have at least 1 book in collection","message":"expected null to be an array","stack":"AssertionError: expected null to be an array\n   at Object.eval sandbox-script.js:2:4)"},"status":"failed"},{"name":"Should have the added book in collection","error":{"name":"TypeError","index":2,"test":"Should have the added book in collection","message":"Cannot read properties of null (reading \u0027find\u0027)","stack":"TypeError: Cannot read properties of null (reading \u0027find\u0027)\n   at Object.eval sandbox-script.js:3:4)"},"status":"failed"}],"testStats":{"total":3,"passed":0,"failed":3,"skipped":0}},{"item":{"id":"c676e736-4484-441b-9c1c-dfeebaf1bad5","name":"Clean Collection"},"request":{"url":"https://demoqa.com/BookStore/v1/Books?UserId=c35206aa-99e6-4bbf-87b7-8dabc2bb4f96","method":"DELETE","header":[{"key":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InVwZXJ6aW4iLCJwYXNzd29yZCI6IlVwZXJ6aW4qMTIzIiwiaWF0IjoxNzM2MTEyNjEzfQ.yGgrliBKL6-hHubLZC2i5yUQ6c7CIbM6O9PlzHeiQLc","system":true},{"key":"User-Agent","value":"PostmanRuntime/7.42.0","system":true},{"key":"Accept","value":"*/*","system":true},{"key":"Cache-Control","value":"no-cache","system":true},{"key":"Postman-Token","value":"313d9f9a-ead7-4db6-bad5-1fe1b6bce12f","system":true},{"key":"Host","value":"demoqa.com","system":true},{"key":"Accept-Encoding","value":"gzip, deflate, br","system":true},{"key":"Connection","value":"keep-alive","system":true}]},"response":{"id":"d7926a54-3f7f-42cd-a3a5-702bbc50e03e","status":"Unauthorized","code":401,"header":[{"key":"Server","value":"nginx/1.17.10 (Ubuntu)"},{"key":"Date","value":"Wed, 15 Jan 2025 02:34:14 GMT"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"42"},{"key":"Connection","value":"keep-alive"},{"key":"X-Powered-By","value":"Express"},{"key":"ETag","value":"W/\"2a-bC4CQuIdtHQV/kR5x6cuQsTTjLY\""}],"contentType":"json","responseTime":"135ms","responseSize":"42B","body":"{\"code\":\"1200\",\"message\":\"Token expired.\"}"},"errors":[],"tests":[{"name":"Status code is 204","error":{"name":"AssertionError","index":0,"test":"Status code is 204","message":"expected response to have status code 204 but got 401","stack":"AssertionError: expected response to have status code 204 but got 401\n   at Object.eval sandbox-script.js:1:5)"},"status":"failed"},{"name":"Response body is empty","error":{"name":"AssertionError","index":1,"test":"Response body is empty","message":"expected \u0027{\"code\":\"1200\",\"message\":\"Token expir…\u0027 to be empty","stack":"AssertionError: expected \u0027{\"code\":\"1200\",\"message\":\"Token expir…\u0027 to be empty\n   at Object.eval sandbox-script.js:2:5)"},"status":"failed"}],"testStats":{"total":2,"passed":0,"failed":2,"skipped":0}}]}]}}
    const summary={"iterations":{"executed":1,"errors":0,"iterationsWithErrors":[],"iterationsWithTestFailures":[0]},"executedRequests":{"executed":5,"errors":0},"prerequestScripts":{"executed":0,"errors":0},"postresponseScripts":{"executed":5,"errors":0},"tests":{"total":11,"passed":3,"failed":8,"skipped":0},"timeStats":{"responseAverage":227.2,"responseMin":86,"responseMax":617,"responseStandardDeviation":196.39490828430357}}
    const iterationCount = summary.iterations.executed;
    const iterationsWithErrors = summary.iterations.iterationsWithErrors;
    const iterationsWithTestFailures = summary.iterations.iterationsWithTestFailures;

    /**
     * Handles view request for accordion elements under Failures & Skipped sections of the "Summary" tab
     * @param {Event} event - Click event object
     */
    function viewRequest(event) {
        event.stopPropagation();
        const accordion = findAncestor(event.target,'acc-container');
        if (!accordion) return;


        const { accordionIteration, accordionParentId, accordionRequestId } = accordion.dataset;
        const iterationIndex = parseInt(accordionIteration);

        // Switch to "All Requests" tab
        switchTab(1);

        // Select the respective iteration index button
        document.querySelectorAll(SELECTORS.ITERATION_NAV_BUTTONS)
                .forEach((btn, index) => btn.classList.toggle('selected', index === iterationIndex));

        // Create the selected Iteration
        IterationManager.createIteration(iterationIndex);

        // Expand the respective iteration request
        expandRequestWithinIteration(accordionParentId,accordionRequestId,iterationIndex);
    }

    function addIterationButtons () {
        const container = document.getElementById('id-iteration-nav-container'),
            fragment = document.createDocumentFragment();

        for (let i = 0; i < iterationCount; i++) {
            const btn = document.createElement('button');

            btn.className = 'iteration-btn';
            if (iterationCount < 100) {
                btn.classList.add('small');
            }
            btn.innerText = i + 1;

            if (iterationsWithTestFailures.includes(i) || iterationsWithErrors.includes(i)) {
                btn.classList.add('failed');
            } else {
                btn.classList.add('passed');
            }

            if (i === 0) {
                btn.classList.add('selected');
            }

            btn.addEventListener('click', () => {
                if (btn.classList.contains('selected')) {
                    return;
                }

                const selectedBtn = document.querySelector('.iteration-btn.selected');
                if (selectedBtn) {
                    selectedBtn.classList.remove('selected');
                }
                btn.classList.add('selected');
                IterationManager.createIteration(i);
            });
            fragment.appendChild(btn);
        }
        container.appendChild(fragment);
    }

    document.addEventListener('DOMContentLoaded', () => {
        addIterationButtons();
        IterationManager.createIteration(0);
    });
</script>
</html>